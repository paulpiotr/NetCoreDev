(self.webpackChunk_5_112_1332=self.webpackChunk_5_112_1332||[]).push([[7643],{7643:(e,t,i)=>{e.exports=function(e){var t={};function i(a){if(t[a])return t[a].exports;var n=t[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}return i.m=e,i.c=t,i.p="",i(0)}({0:function(e,t,i){e.exports=i(1291)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1059:function(e,t){e.exports=i(6758)},1089:function(e,t){e.exports=i(3261)},1291:function(e,t,i){var a,n,s;i(3),n=[i(1059),i(1089)],void 0===(s="function"==typeof(a=function(){return function(e,t){var i=window.kendo,a=i.ui,n=i._outerHeight,s=/^\d+(\.\d+)?%$/i,r=a.Widget,l=i.keys,o=i.support,u=i.htmlEncode,c=i._activeElement,d=i._outerWidth,h=i.data.ObservableArray,f="id",p="change",_="k-state-focused",g="k-state-hover",m="k-i-loading",v=".k-group-header",b=".k-item",x="open",w="close",I="cascade",S="select",y="selected",T="requestStart",F="requestEnd",C=e.extend,V=e.proxy,k=e.isArray,D=o.browser,H="k-hidden",B="width",L=D.msie,E=/"/g,P={ComboBox:["DropDownList","MultiColumnComboBox"],DropDownList:["ComboBox","MultiColumnComboBox"],MultiColumnComboBox:["ComboBox","DropDownList"]},G=i.ui.DataBoundWidget.extend({init:function(t,a){var n,s=this,l=s.ns;r.fn.init.call(s,t,a),t=s.element,a=s.options,s._isSelect=t.is(S),s._isSelect&&s.element[0].length&&(a.dataSource||(a.dataTextField=a.dataTextField||"text",a.dataValueField=a.dataValueField||"value")),s.ul=e('<ul unselectable="on" class="k-list k-reset"/>').attr({tabIndex:-1,"aria-hidden":!0}),s.list=e("<div class='k-list-container'/>").append(s.ul).on("mousedown"+l,V(s._listMousedown,s)),(n=t.attr(f))||(n=i.guid()),s.list.attr(f,n+"-list"),s.ul.attr(f,n+"_listbox"),a.columns&&a.columns.length&&(s.ul.removeClass("k-list").addClass("k-grid-list"),s._columnsHeader()),s._header(),s._noData(),s._footer(),s._accessors(),s._initValue()},options:{valuePrimitive:!1,footerTemplate:"",headerTemplate:"",noDataTemplate:!0,messages:{noData:"No data found.",clear:"clear"}},setOptions:function(e){r.fn.setOptions.call(this,e),e&&e.enable!==t&&(e.enabled=e.enable),e.columns&&e.columns.length&&this._columnsHeader(),this._header(),this._noData(),this._footer(),this._renderFooter(),this._renderNoData()},focus:function(){this._focused.focus()},readonly:function(e){this._editable({readonly:e===t||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t||e)})},_header:function(){var t=this,a=e(t.header),n=t.options.headerTemplate;if(this._angularElement(a,"cleanup"),i.destroy(a),a.remove(),n){var s="function"!=typeof n?i.template(n):n;a=e(s({})),t.header=a[0]?a:null,t.list.prepend(a),this._angularElement(t.header,"compile")}else t.header=null},_columnsHeader:function(){var t=this,a=e(t.columnsHeader);this._angularElement(a,"cleanup"),i.destroy(a),a.remove();for(var n="<div class='k-grid-header'><div class='k-grid-header-wrap'><table role='presentation'>",r="<colgroup>",l="<tr>",o=0;o<this.options.columns.length;o++){var u=this.options.columns[o],c=u.title||u.field||"",d=u.headerTemplate||c,h="function"!=typeof d?i.template(d):d,f=u.width,p=parseInt(f,10),_="";f&&!isNaN(p)&&(_+="style='width:",_+=p,_+=s.test(f)?"%":"px",_+=";'"),r+="<col "+_+"/>",l+="<th class='k-header'>",l+=h(u),l+="</th>"}n+=r+="</colgroup>",n+=l+="</tr>",n+="</table></div></div>",t.columnsHeader=a=e(n),t.list.prepend(a),this._angularElement(t.columnsHeader,"compile")},_noData:function(){var t=this,a=e(t.noData),n=!0===t.options.noDataTemplate?t.options.messages.noData:t.options.noDataTemplate;t.angular("cleanup",(function(){return{elements:a}})),i.destroy(a),a.remove(),n?(t.noData=e('<div class="k-nodata" style="display:none"><div></div></div>').appendTo(t.list),t.noDataTemplate="function"!=typeof n?i.template(n):n):t.noData=null},_footer:function(){var t=this,a=e(t.footer),n=t.options.footerTemplate;this._angularElement(a,"cleanup"),i.destroy(a),a.remove(),n?(t.footer=e('<div class="k-footer"></div>').appendTo(t.list),t.footerTemplate="function"!=typeof n?i.template(n):n):t.footer=null},_listOptions:function(t){var a=this,n=a.options,s=n.virtual,r={change:V(a._listChange,a)},l=V(a._listBound,a),o=a._focused,u=a.element.attr("id"),c=e('label[for="'+a.element.attr("id")+'"]'),d=o.attr("aria-labelledby");return!d&&c.length&&(d=c.attr("id")||a._generateLabelId(c,u||i.guid())),s="object"==typeof s?s:{},(t=e.extend({autoBind:!1,selectable:!0,dataSource:a.dataSource,click:V(a._click,a),activate:V(a._activateItem,a),columns:n.columns,deactivate:V(a._deactivateItem,a),dataBinding:function(){a.trigger("dataBinding")},dataBound:l,height:n.height,dataValueField:n.dataValueField,dataTextField:n.dataTextField,groupTemplate:n.groupTemplate,fixedGroupTemplate:n.fixedGroupTemplate,template:n.template,ariaLabel:o.attr("aria-label"),ariaLabelledBy:d},t,s,r)).template||(t.template="#:"+i.expr(t.dataTextField,"data")+"#"),n.$angular&&(t.$angular=n.$angular),t},_initList:function(){var e=this,t=e._listOptions({selectedItemChange:V(e._listChange,e)});e.options.virtual?e.listView=new i.ui.VirtualList(e.ul,t):e.listView=new i.ui.StaticList(e.ul,t),e.listView.bind("listBound",V(e._listBound,e)),e._setListValue()},_setListValue:function(e){(e=e||this.options.value)!==t&&this.listView.value(e).done(V(this._updateSelectionState,this))},_updateSelectionState:e.noop,_listMousedown:function(e){this.filterInput&&this.filterInput[0]===e.target||e.preventDefault()},_isFilterEnabled:function(){var e=this.options.filter;return e&&"none"!==e},_hideClear:function(){this._clear&&this._clear.addClass(H)},_showClear:function(){this._clear&&this._clear.removeClass(H)},_clearValue:function(){this._clearText(),this._accessor(""),this.listView.value([]),this._isSelect&&(this._customOption=t),this._isFilterEnabled()&&!this.options.enforceMinLength&&(this._filter({word:"",open:!1}),this.options.highlightFirst&&this.listView.focus(0)),this._change()},_clearText:function(){this.text("")},_clearFilter:function(){this.options.virtual||this.listView.bound(!1),this._filterSource()},_filterSource:function(t,i){var a=this,n=a.options,s=n.filterFields&&t&&t.logic&&t.filters&&t.filters.length,r=a.dataSource,l=C({},r.filter()||{}),o=t||l.filters&&l.filters.length&&!t,u=z(l,n.dataTextField);if(this._clearFilterExpressions(l),(t||u)&&a.trigger("filtering",{filter:t}))return e.Deferred().reject().promise();var c={filters:[],logic:"and"};s?c.filters.push(t):this._pushFilterExpression(c,t),M(l)&&(c.logic===l.logic?c.filters=c.filters.concat(l.filters):c.filters.push(l)),a._cascading&&this.listView.setDSFilter(c);var d=C({},{page:o?1:r.page(),pageSize:o?r.options.pageSize:r.pageSize(),sort:r.sort(),filter:r.filter(),group:r.group(),aggregate:r.aggregate()},{filter:c});return r[i?"read":"query"](r._mergeState(d))},_pushFilterExpression:function(e,t){M(t)&&""!==t.value&&e.filters.push(t)},_clearFilterExpressions:function(e){if(e.filters){for(var t,i=0;i<e.filters.length;i++)"fromFilter"in e.filters[i]&&(t=i);isNaN(t)||e.filters.splice(t,1)}},_angularElement:function(e,t){e&&this.angular(t,(function(){return{elements:e}}))},_renderNoData:function(){var e=this,t=e.noData;t&&(this._angularElement(t,"cleanup"),t.children(":first").html(e.noDataTemplate({instance:e})),this._angularElement(t,"compile"))},_toggleNoData:function(t){e(this.noData).toggle(t)},_toggleHeader:function(e){this.listView.content.prev(v).toggle(e)},_renderFooter:function(){var e=this,t=e.footer;t&&(this._angularElement(t,"cleanup"),t.html(e.footerTemplate({instance:e})),this._angularElement(t,"compile"))},_allowOpening:function(){return this.options.noDataTemplate||this.dataSource.flatView().length},_initValue:function(){var e=this,t=e.options.value;null!==t?e.element.val(t):(t=e._accessor(),e.options.value=t),e._old=t},_ignoreCase:function(){var e,t=this,i=t.dataSource.reader.model;i&&i.fields&&(e=i.fields[t.options.dataTextField])&&e.type&&"string"!==e.type&&(t.options.ignoreCase=!1)},_focus:function(e){return this.listView.focus(e)},_filter:function(e){var t,i=this,a=i.options,n=e.word,s=a.filterFields,r=a.dataTextField;if(s&&s.length){t={logic:"or",filters:[],fromFilter:!0};for(var l=0;l<s.length;l++)this._pushFilterExpression(t,i._buildExpression(n,s[l]))}else t=i._buildExpression(n,r);i._open=e.open,i._filterSource(t)},_buildExpression:function(e,t){var i=this.options,a=i.ignoreCase,n=this.dataSource.options.accentFoldingFiltering;return{value:a?n?e.toLocaleLowerCase(n):e.toLowerCase():e,field:t,operator:i.filter,ignoreCase:a}},_clearButton:function(){var t=this,i=t.options.messages.clear;t._clear||(t._clear=e('<span unselectable="on" class="k-clear-value" title="'+i+'"><span class="k-icon k-i-x"></span></span>').attr({role:"button",tabIndex:-1})),t.options.clearButton||t._clear.remove(),this._hideClear()},search:function(e){var t=this.options;e="string"==typeof e?e:this._inputValue(),clearTimeout(this._typingTimeout),(!t.enforceMinLength&&!e.length||e.length>=t.minLength)&&(this._state="filter",this.listView&&(this.listView._emptySearch=!i.trim(e).length),this._isFilterEnabled()?this._filter({word:e,open:!0}):this._searchByWord(e))},current:function(e){return this._focus(e)},items:function(){return this.ul[0].children},destroy:function(){var e=this,t=e.ns;r.fn.destroy.call(e),e._unbindDataSource(),e.listView.destroy(),e.list.off(t),e.popup.destroy(),e._form&&e._form.off("reset",e._resetHandler)},dataItem:function(i){var a=this;if(i===t)return a.listView.selectedDataItems()[0];if("number"!=typeof i){if(a.options.virtual)return a.dataSource.getByUid(e(i).data("uid"));i=e(a.items()).index(i)}return a.dataSource.flatView()[i]},_activateItem:function(){var e=this.listView.focus();e&&this._focused.add(this.filterInput).attr("aria-activedescendant",e.attr("id"))},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr("aria-activedescendant")},_accessors:function(){var e=this,t=e.element,a=e.options,n=i.getter,s=t.attr(i.attr("text-field")),r=t.attr(i.attr("value-field"));!a.dataTextField&&s&&(a.dataTextField=s),!a.dataValueField&&r&&(a.dataValueField=r),e._text=n(a.dataTextField),e._value=n(a.dataValueField)},_aria:function(e){var i,a=this,n=a.options,s=a._focused;n.suggest!==t&&(i="none"===n.filter?!0===n.suggest?"inline":"none":!0===n.suggest?"both":"list",s.attr("aria-autocomplete",i)),e=e?e+" "+a.ul[0].id:a.ul[0].id,s.attr({"aria-owns":e,"aria-controls":e}),a.filterInput&&a.filterInput.length>0&&a.filterInput.attr("aria-controls",e),a.ul.attr("aria-live",a._isFilterEnabled()?"polite":"off"),a._ariaLabel()},_ariaLabel:function(){var t=this,a=t._focused,n=t.element,s=n.attr("id"),r=e('label[for="'+s+'"]'),l=n.attr("aria-label"),o=n.attr("aria-labelledby");if(a!==n)if(l)a.attr("aria-label",l);else if(o)a.attr("aria-labelledby",o);else if(r.length){var u=r.attr("id")||t._generateLabelId(r,s||i.guid());a.attr("aria-labelledby",u)}},_generateLabelId:function(e,t){var i=t+"_label";return e.attr("id",i),i},_blur:function(){var e=this;e._change(),e.close(),e._userTriggered=!1},_isValueChanged:function(e){return e!==W(this._old,typeof e)},_change:function(){var e,i=this,a=i.selectedIndex,n=i.options.value,s=i.value();i._isSelect&&!i.listView.bound()&&n&&(s=n),i._isValueChanged(s)||i._valueBeforeCascade!==t&&i._valueBeforeCascade!==W(i._old,typeof i._valueBeforeCascade)&&i._userTriggered?e=!0:a===t||a===i._oldIndex||i.listView.isFiltered()||(e=!0),e&&(null===i._old||""===i._old||""===s?i._valueBeforeCascade=i._old=s:i.dataItem()?i._valueBeforeCascade=i._old=i.options.dataValueField?i.dataItem()[i.options.dataValueField]:i.dataItem():i._valueBeforeCascade=i._old=null,i._oldIndex=a,i._typing||i.element.trigger(p),i.trigger(p)),i.typing=!1},_data:function(){return this.dataSource.view()},_enable:function(){var e=this,i=e.options,a=e.element.is("[disabled]");i.enable!==t&&(i.enabled=i.enable),!i.enabled||a?e.enable(!1):e.readonly(e.element.is("[readonly]"))},_dataValue:function(e){var i=this._value(e);return i===t&&(i=this._text(e)),i},_offsetHeight:function(){var t=0;return this.listView.content.prevAll(":visible").each((function(){var i=e(this);t+=n(i,!0)})),t},_height:function(t){var i,a=this,s=a.list,r=a.options.height,l=a.popup.visible();if(t||a.options.noDataTemplate){if(i=s.add(s.parent(".k-animation-container")).show(),!s.is(":visible"))return void i.hide();r=a.listView.content[0].scrollHeight>r?r:"auto",i.height(r),"auto"!==r&&(r=r-a._offsetHeight()-(n(e(a.footer))||0)),a.listView.content.height(r),l||i.hide()}return r},_openHandler:function(e){this._adjustListWidth(),this.trigger(x)?e.preventDefault():(this._focused.attr("aria-expanded",!0),this.ul.attr("aria-hidden",!1))},_adjustListWidth:function(){var e,t,i=this,a=i.list,n=a[0].style.width,s=i.wrapper;if(a.data(B)||!n)return e=window.getComputedStyle?window.getComputedStyle(s[0],null):0,t=parseFloat(e&&e.width)||d(s),e&&D.msie&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),n="border-box"!==a.css("box-sizing")?t-(d(a)-a.width()):t,a.css({fontFamily:s.css("font-family"),width:i.options.autoWidth?"auto":n,minWidth:n,whiteSpace:i.options.autoWidth?"nowrap":"normal"}).data(B,n),!0},_closeHandler:function(e){this.trigger(w)?e.preventDefault():(this._focused.attr("aria-expanded",!1),this.ul.attr("aria-hidden",!0))},_focusItem:function(){var e=this.listView,i=!e.focus(),a=N(e.select());a===t&&this.options.highlightFirst&&i&&(a=0),a!==t?e.focus(a):i&&e.scrollToIndex(0)},_calculateGroupPadding:function(e){var t=this.ul.children(".k-first:first"),a=this.listView.content.prev(v),n=0,s="right";a[0]&&"none"!==a[0].style.display&&("auto"!==e&&(n=i.support.scrollbar()),this.element.parents(".k-rtl").length&&(s="left"),n+=parseFloat(t.css("border-"+s+"-width"),10)+parseFloat(t.children(".k-group").css("padding-"+s),10),a.css("padding-"+s,n))},_calculatePopupHeight:function(e){var t=this._height(this.dataSource.flatView().length||e);this._calculateGroupPadding(t),this._calculateColumnsHeaderPadding(t)},_calculateColumnsHeaderPadding:function(e){if(this.options.columns&&this.options.columns.length){var t=o.isRtl(this.wrapper),a=i.support.scrollbar();this.columnsHeader.css(t?"padding-left":"padding-right","auto"!==e?a:0)}},_refreshScroll:function(){var e=this.listView,t=e.element.height()>e.content.height();this.options.autoWidth&&e.content.css({overflowX:"hidden",overflowY:t?"scroll":"auto"})},_resizePopup:function(e){this.options.virtual||(this.popup.element.is(":visible")?this._calculatePopupHeight(e):(this.popup.one("open",function(e){return V((function(){this._calculatePopupHeight(e)}),this)}.call(this,e)),this.popup.one("activate",V(this._refreshScroll,this))))},_popup:function(){var e=this;e.popup=new a.Popup(e.list,C({},e.options.popup,{anchor:e.wrapper,open:V(e._openHandler,e),close:V(e._closeHandler,e),animation:e.options.animation,isRtl:o.isRtl(e.wrapper),autosize:e.options.autoWidth}))},_toggleHover:function(t){e(t.currentTarget).toggleClass(g,"mouseenter"===t.type)},_toggle:function(e,i){var a=this,n=o.mobileOS&&(o.touch||o.MSPointers||o.pointers);e=e!==t?e:!a.popup.visible(),i||n||a._focused[0]===c()||(a._prevent=!0,a._focused.focus(),a._prevent=!1),a[e?x:w]()},_triggerCascade:function(){var e=this;e._cascadeTriggered&&e.value()===W(e._cascadedValue,typeof e.value())||(e._cascadedValue=e.value(),e._cascadeTriggered=!0,e.trigger(I,{userTriggered:e._userTriggered}))},_triggerChange:function(){this._valueBeforeCascade!==this.value()&&this.trigger(p)},_unbindDataSource:function(){var e=this;e.dataSource.unbind(T,e._requestStartHandler).unbind(F,e._requestEndHandler).unbind("error",e._errorHandler)},requireValueMapper:function(e,t){if(((e.value instanceof Array?e.value.length:e.value)||(t instanceof Array?t.length:t))&&e.virtual&&"function"!=typeof e.virtual.valueMapper)throw new Error("ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function")}});function W(e,i){return e!==t&&""!==e&&null!==e&&("boolean"===i?("boolean"!=typeof e&&(e="true"===e.toString().toLowerCase()),e=Boolean(e)):"number"===i?e=Number(e):"string"===i&&(e=e.toString())),e}C(G,{inArray:function(e,t){var i,a,n=t.children;if(!e||e.parentNode!==t)return-1;for(i=0,a=n.length;i<a;i++)if(e===n[i])return i;return-1},unifyType:W}),i.ui.List=G,a.Select=G.extend({init:function(e,t){G.fn.init.call(this,e,t),this._initial=this.element.val()},setDataSource:function(e){var t,i=this;i.options.dataSource=e,i._dataSource(),i.listView.bound()&&(i._initialIndex=null,i.listView._current=null),i.listView.setDataSource(i.dataSource),i.options.autoBind&&i.dataSource.fetch(),(t=i._parentWidget())&&i._cascadeSelect(t)},close:function(){this.popup.close()},select:function(e){var i=this;return e===t?i.selectedIndex:i._select(e).done((function(){i._cascadeValue=i._old=i._accessor(),i._oldIndex=i.selectedIndex}))},_accessor:function(e,t){return this[this._isSelect?"_accessorSelect":"_accessorInput"](e,t)},_accessorInput:function(e){var i=this.element[0];if(e===t)return i.value;null===e&&(e=""),i.value=e},_accessorSelect:function(e,i){var a=this.element[0];if(e===t)return O(a).value||"";O(a).selected=!1,i===t&&(i=-1),null!==e&&""!==e&&-1==i?this._custom(e):e?a.value=e:a.selectedIndex=i},_syncValueAndText:function(){return!0},_custom:function(t){var i=this,a=i.element,n=i._customOption;n||(n=e("<option/>"),i._customOption=n,a.append(n)),n.text(t),n[0].selected=!0},_hideBusy:function(){var e=this;clearTimeout(e._busy),e._arrowIcon.removeClass(m),e._focused.attr("aria-busy",!1),e._busy=null,e._showClear()},_showBusy:function(e){var t=this;e.isDefaultPrevented()||(t._request=!0,t._busy||(t._busy=setTimeout((function(){t._arrowIcon&&(t._focused.attr("aria-busy",!0),t._arrowIcon.addClass(m),t._hideClear())}),100)))},_requestEnd:function(){this._request=!1,this._hideBusy()},_dataSource:function(){var t,a=this,n=a.element,s=a.options,r=s.dataSource||{};r=e.isArray(r)?{data:r}:r,a._isSelect&&((t=n[0].selectedIndex)>-1&&(s.index=t),r.select=n,r.fields=[{field:s.dataTextField},{field:s.dataValueField}]),a.dataSource?a._unbindDataSource():(a._requestStartHandler=V(a._showBusy,a),a._requestEndHandler=V(a._requestEnd,a),a._errorHandler=V(a._hideBusy,a)),a.dataSource=i.data.DataSource.create(r).bind(T,a._requestStartHandler).bind(F,a._requestEndHandler).bind("error",a._errorHandler)},_firstItem:function(){this.listView.focusFirst()},_lastItem:function(){this.listView.focusLast()},_nextItem:function(){return this.listView.focusNext()},_prevItem:function(){return this.listView.focusPrev()},_getNormalizedDataItem:function(e){var t,i=this,a=i.listView,n="number"==typeof e,s=i.optionLabel&&i.optionLabel.length;return t=n?s?--e:e:a.getElementIndex(e),a.dataItemByIndex(t)},_getNormalizedSelectCandidate:function(e){var t=e;return this.optionLabel&&this.optionLabel.length&&"number"==typeof e&&t++,t},_move:function(e){var t,i,a,n,s,r=this,o=r.listView,u=e.keyCode,d=u===l.DOWN,h=r.options.virtual;if(u===l.UP||d){if(e.altKey)r.toggle(d);else{if(!o.bound()&&!r.ul[0].firstChild)return r._fetch||(r.dataSource.one(p,(function(){r._fetch=!1,r._move(e)})),r._fetch=!0,r._filterSource()),e.preventDefault(),!0;a=r._focus(),r._fetch||a&&!a.hasClass("k-state-selected")||(d?(n=r._nextItem(),(h&&n<=0||!r._focus()&&!n)&&r._lastItem()):(n=r._prevItem(),(h&&n>=o.dataSource.total()-1||!r._focus()&&!n)&&r._firstItem())),s=r._getNormalizedSelectCandidate(r._get(r._focus())||n||0),r._select(s,!0).done((function(){var e=function(){r.popup.visible()||r._blur(),null===r._cascadedValue?r._cascadedValue=r.value():r._cascadedValue=r.dataItem()?r.dataItem()[r.options.dataValueField]||r.dataItem():null};r.trigger(S,{dataItem:r._getNormalizedDataItem(s),item:r._focus()})?r._select(a).done(e):e()}))}e.preventDefault(),i=!0}else if(u===l.ENTER||u===l.TAB){r.popup.visible()&&e.preventDefault(),a=r._focus(),t=r.dataItem(),r.popup.visible()||t&&r.text()===r._text(t)||(a=null);var f,_=r.filterInput&&r.filterInput[0]===c();if(a){var g=!0;if((t=o.dataItemByIndex(o.getElementIndex(a)))&&(g=r._value(t)!==G.unifyType(r.value(),typeof r._value(t))),g&&r.trigger(S,{dataItem:t,item:a}))return;f=r._select(a)}else r.input&&((r._syncValueAndText()||r._isSelect)&&r._accessor(r.input.val()),r.listView.value(r.input.val()));r._focusElement&&r._focusElement(r.wrapper),_&&u===l.TAB?r.wrapper.focusout():f&&"function"==typeof f.done?f.done((function(){r._blur()})):r._blur(),r.close(),i=!0}else if(u===l.ESC)r.popup.visible()&&e.preventDefault(),r.close(),i=!0;else if(r.popup.visible()&&(u===l.PAGEDOWN||u===l.PAGEUP)){e.preventDefault();var m=u===l.PAGEDOWN?1:-1;o.scrollWith(m*o.screenHeight()),i=!0}return i},_fetchData:function(){var e=this,t=!!e.dataSource.view().length;e._request||e.options.cascadeFrom||e.listView.bound()||e._fetch||t||(e._fetch=!0,e.dataSource.fetch().done((function(){e._fetch=!1})))},_options:function(e,i,a){var n,s,r,l,o=this,c=o.element,d=c[0],h=e.length,f="",p=0;for(i&&(f=i);p<h;p++)n="<option",s=e[p],r=o._text(s),(l=o._value(s))!==t&&(-1!==(l+="").indexOf('"')&&(l=l.replace(E,"&quot;")),n+=' value="'+l+'"'),n+=">",r!==t&&(n+=u(r)),f+=n+="</option>";c.html(f),a!==t&&(d.value=a,d.value&&!a&&(d.selectedIndex=-1)),-1!==d.selectedIndex&&(n=O(d))&&n.setAttribute(y,y)},_reset:function(){var t=this,i=t.element,a=i.attr("form"),n=a?e("#"+a):i.closest("form");n[0]&&(t._resetHandler=function(){setTimeout((function(){t.value(t._initial)}))},t._form=n.on("reset",t._resetHandler))},_parentWidget:function(){var t=this.options.name;if(this.options.cascadeFrom){var i=e("#"+this.options.cascadeFrom),a=i.data("kendo"+t);if(!a)for(var n=0;n<P[t].length&&!(a=i.data("kendo"+P[t][n]));n+=1);return a}},_cascade:function(){var e,t=this,i=t.options;if(i.cascadeFrom){if(!(e=t._parentWidget()))return;t._cascadeHandlerProxy=V(t._cascadeHandler,t),t._cascadeFilterRequests=[],i.autoBind=!1,e.bind("set",(function(){t.one("set",(function(e){t._selectedValue=e.value||t._accessor()}))})),e.first(I,t._cascadeHandlerProxy),e.listView.bound()?(t._toggleCascadeOnFocus(),t._cascadeSelect(e)):(e.one("dataBound",(function(){t._toggleCascadeOnFocus(),e.popup.visible()&&e._focused.focus()})),e.value()||t.enable(!1))}},_toggleCascadeOnFocus:function(){var e=this,t=e._parentWidget(),i=L&&t instanceof a.DropDownList?"blur":"focusout";t._focused.add(t.filterInput).bind("focus",(function(){t.unbind(I,e._cascadeHandlerProxy),t.first(p,e._cascadeHandlerProxy)})),t._focused.add(t.filterInput).bind(i,(function(){t.unbind(p,e._cascadeHandlerProxy),t.first(I,e._cascadeHandlerProxy)}))},_cascadeHandler:function(e){var t=this._parentWidget(),i=this.value();this._userTriggered=e.userTriggered||t._userTriggered,this.listView.bound()&&this._clearSelection(t,!0),this._cascadeSelect(t,i)},_cascadeChange:function(e){var t=this,i=t._accessor()||t._selectedValue;t._cascadeFilterRequests.length||(t._selectedValue=null),t._userTriggered?t._clearSelection(e,!0):i?(i!==W(t.listView.value()[0],typeof i)&&t.value(i),t.dataSource.view()[0]&&-1!==t.selectedIndex||t._clearSelection(e,!0)):t.dataSource.flatView().length&&t.select(t.options.index),t.enable(),t._triggerCascade(),t._triggerChange(),t._userTriggered=!1},_cascadeSelect:function(e,i){var a=this,n=e.dataItem(),s=n?n[a.options.cascadeFromParentField]||e._value(n):null,r=a.options.cascadeFromField||e.options.dataValueField;if(a._valueBeforeCascade=i!==t?i:a.value(),s||0===s){z(a.dataSource.filter()||{},r);var l=function(){var t=a._cascadeFilterRequests.shift();t&&a.unbind("dataBound",t),(t=a._cascadeFilterRequests[0])&&a.first("dataBound",t),a._cascadeChange(e)};a._cascadeFilterRequests.push(l),1===a._cascadeFilterRequests.length&&a.first("dataBound",l),a._cascading=!0,a._filterSource({field:r,operator:"eq",value:s}),a._cascading=!1}else a.enable(!1),a._clearSelection(e),a._triggerCascade(),a._triggerChange(),a._userTriggered=!1}});var A=".StaticList",q=i.ui.DataBoundWidget.extend({init:function(t,a){r.fn.init.call(this,t,a),this.element.attr("role","listbox").on("click.StaticList","li",V(this._click,this)).on("mouseenter.StaticList","li",(function(){e(this).addClass(g)})).on("mouseleave.StaticList","li",(function(){e(this).removeClass(g)})),a&&a.ariaLabel?this.element.attr("aria-label",a.ariaLabel):a&&a.ariaLabelledBy&&this.element.attr("aria-labelledby",a.ariaLabelledBy),o.touch&&this._touchHandlers(),"multiple"===this.options.selectable&&this.element.attr("aria-multiselectable",!0),this.content=this.element.wrap("<div class='k-list-scroller' unselectable='on'></div>").parent(),this.header=this.content.before('<div class="k-group-header" style="display:none"></div>').prev(),this.bound(!1),this._optionID=i.guid(),this._selectedIndices=[],this._view=[],this._dataItems=[],this._values=[];var n=this.options.value;n&&(this._values=e.isArray(n)?n.slice(0):[n]),this._getter(),this._templates(),this.setDataSource(this.options.dataSource),this._onScroll=V((function(){var e=this;clearTimeout(e._scrollId),e._scrollId=setTimeout((function(){e._renderHeader()}),50)}),this)},options:{name:"StaticList",dataValueField:null,valuePrimitive:!1,selectable:!0,template:null,groupTemplate:null,fixedGroupTemplate:null,ariaLabel:null,ariaLabelledBy:null},events:["click",p,"activate","deactivate","dataBinding","dataBound","selectedItemChange"],setDataSource:function(t){var a,n=this,s=t||{};s=e.isArray(s)?{data:s}:s,s=i.data.DataSource.create(s),n.dataSource?(n.dataSource.unbind(p,n._refreshHandler),a=n.value(),n.value([]),n.bound(!1),n.value(a)):n._refreshHandler=V(n.refresh,n),n.setDSFilter(s.filter()),n.dataSource=s.bind(p,n._refreshHandler),n._fixedHeader()},_touchHandlers:function(){var t,i,a=this,n=function(e){return(e.originalEvent||e).changedTouches[0].pageY};a.element.on("touchstart.StaticList",(function(e){t=n(e)})),a.element.on("touchend.StaticList",(function(s){s.isDefaultPrevented()||(i=n(s),Math.abs(i-t)<10&&(a._touchTriggered=!0,a._triggerClick(e(s.target).closest(b).get(0))))}))},skip:function(){return this.dataSource.skip()},setOptions:function(e){r.fn.setOptions.call(this,e),this._getter(),this._templates(),this._render()},destroy:function(){this.element.off(A),this._refreshHandler&&this.dataSource.unbind(p,this._refreshHandler),clearTimeout(this._scrollId),r.fn.destroy.call(this)},dataItemByIndex:function(e){return this.dataSource.flatView()[e]},screenHeight:function(){return this.content[0].clientHeight},scrollToIndex:function(e){var t=this.element[0].children[e];t&&this.scroll(t)},scrollWith:function(e){this.content.scrollTop(this.content.scrollTop()+e)},scroll:function(e){if(e){e[0]&&(e=e[0]);var t=this.content[0],i=e.offsetTop,a=e.offsetHeight,n=t.scrollTop,s=t.clientHeight,r=i+a;n>i?n=i:r>n+s&&(n=r-s),t.scrollTop=n}},selectedDataItems:function(e){if(e===t)return this._dataItems.slice();this._dataItems=e,this._values=this._getValues(e)},_getValues:function(t){var i=this._valueGetter;return e.map(t,(function(e){return i(e)}))},focusNext:function(){var e=this.focus();e=e?e.next():0,this.focus(e)},focusPrev:function(){var e=this.focus();e=e?e.prev():this.element[0].children.length-1,this.focus(e)},focusFirst:function(){this.focus(this.element[0].children[0])},focusLast:function(){this.focus(N(this.element[0].children))},focus:function(i){var a,n=this,s=n._optionID;if(i===t)return n._current;i=N(n._get(i)),i=e(this.element[0].children[i]),n._current&&(n._current.removeClass(_).removeAttr(f),n.trigger("deactivate")),(a=!!i[0])&&(i.addClass(_),n.scroll(i),i.attr("id",s)),n._current=a?i:null,n.trigger("activate")},focusIndex:function(){return this.focus()?this.focus().index():t},skipUpdate:function(e){this._skipUpdate=e},select:function(i){var a,n=this,s=n.options.selectable,r="multiple"!==s&&!1!==s,l=n._selectedIndices,o=[this.element.find(".k-state-selected").index()],u=[],c=[];if(i===t)return l.slice();1===(i=n._get(i)).length&&-1===i[0]&&(i=[]);var d=e.Deferred().resolve(),h=n.isFiltered();return h&&!r&&n._deselectFiltered(i)?d:r&&!h&&-1!==e.inArray(N(i),l)&&-1!==e.inArray(N(i),o)?(n._dataItems.length&&n._view.length&&(n._dataItems=[n._view[l[0]].item]),d):(c=(a=n._deselect(i)).removed,(i=a.indices).length&&(r&&(i=[N(i)]),u=n._select(i)),(u.length||c.length)&&(n._valueComparer=null,n.trigger(p,{added:u,removed:c})),d)},removeAt:function(e){return this._selectedIndices.splice(e,1),this._values.splice(e,1),this._valueComparer=null,{position:e,dataItem:this._dataItems.splice(e,1)[0]}},setValue:function(t){t=e.isArray(t)||t instanceof h?t.slice(0):[t],this._values=t,this._valueComparer=null},value:function(i){var a,n=this,s=n._valueDeferred;return i===t?n._values.slice():(n.setValue(i),s&&"resolved"!==s.state()||(n._valueDeferred=s=e.Deferred()),n.bound()&&(a=n._valueIndices(n._values),"multiple"===n.options.selectable&&n.select(-1),n.select(a),s.resolve()),n._skipUpdate=!1,s)},items:function(){return this.element.children(b)},_click:function(e){this._touchTriggered?this._touchTriggered=!1:e.isDefaultPrevented()||this._triggerClick(e.currentTarget)},_triggerClick:function(t){this.trigger("click",{item:e(t)})||this.select(t)},_valueExpr:function(e,t){var i,a,n=this,s=0,r=[];if(!n._valueComparer||n._valueType!==e){for(n._valueType=e;s<t.length;s++)r.push(W(t[s],e));i="for (var idx = 0; idx < "+r.length+"; idx++) { if (current === values[idx]) {   return idx; }} return -1;",a=new Function("current","values",i),n._valueComparer=function(e){return a(e,r)}}return n._valueComparer},_dataItemPosition:function(e,t){var i=this._valueGetter(e);return this._valueExpr(typeof i,t)(i)},_getter:function(){this._valueGetter=i.getter(this.options.dataValueField)},_deselect:function(t){var i,a,n,s=this,r=s.element[0].children,l=s.options.selectable,o=s._selectedIndices,u=s._dataItems,c=s._values,d=[],h=0;if(t=t.slice(),!0!==l&&t.length){if("multiple"===l)for(;h<t.length;h++)if(a=t[h],e(r[a]).hasClass("k-state-selected"))for(i=0;i<o.length;i++)if((n=o[i])===a){e(r[n]).removeClass("k-state-selected").attr("aria-selected",!1);var f=this._view[a].item,p=this._dataItemPosition(f,this._values);d.push({position:p,dataItem:f}),u.splice(i,1),o.splice(i,1),t.splice(h,1),c.splice(i,1),h-=1,i-=1;break}}else{for(;h<o.length;h++)e(r[o[h]]).removeClass("k-state-selected").attr("aria-selected",!1),d.push({position:h,dataItem:u[h]});s._values=[],s._dataItems=[],s._selectedIndices=[]}return{indices:t,removed:d}},_deselectFiltered:function(t){for(var i,a,n,s=this.element[0].children,r=[],l=0;l<t.length;l++)a=t[l],i=this._view[a].item,(n=this._dataItemPosition(i,this._values))>-1&&(r.push(this.removeAt(n)),e(s[a]).removeClass("k-state-selected"));return!!r.length&&(this.trigger(p,{added:[],removed:r}),!0)},_select:function(t){var i,a,n=this,s=n.element[0].children,r=n._view,l=[],o=0;for(-1!==N(t)&&n.focus(t);o<t.length;o++)i=r[a=t[o]],-1!==a&&i&&(i=i.item,n._selectedIndices.push(a),n._dataItems.push(i),n._values.push(n._valueGetter(i)),e(s[a]).addClass("k-state-selected").attr("aria-selected",!0),l.push({dataItem:i}));return l},getElementIndex:function(t){return e(t).data("offset-index")},_get:function(e){return"number"==typeof e?e=[e]:k(e)||(e=[(e=this.getElementIndex(e))!==t?e:-1]),e},_template:function(){var e=this.options,t=e.template;return t?(t=i.template(t),t=function(e){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+t(e)+"</li>"}):t=i.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+i.expr(e.dataTextField,"data")+"}</li>",{useWithBlock:!1}),t},_templates:function(){var e,t=this.options,a={template:t.template,groupTemplate:t.groupTemplate,fixedGroupTemplate:t.fixedGroupTemplate};if(t.columns)for(var n=0;n<t.columns.length;n++){var s=t.columns[n],r=s.field?s.field.toString():"text";a["column"+n]=s.template||"#: "+r+"#"}for(var l in a)(e=a[l])&&"function"!=typeof e&&(a[l]=i.template(e));this.templates=a},_normalizeIndices:function(e){for(var i=[],a=0;a<e.length;a++)e[a]!==t&&i.push(e[a]);return i},_valueIndices:function(e,t){var i,a=this._view,n=0;if(t=t?t.slice():[],!e.length)return[];for(;n<a.length;n++)-1!==(i=this._dataItemPosition(a[n].item,e))&&(t[i]=n);return this._normalizeIndices(t)},_firstVisibleItem:function(){for(var t=this.element[0],i=this.content[0].scrollTop,a=e(t.children[0]).height(),n=Math.floor(i/a)||0,s=t.children[n]||t.lastChild,r=s.offsetTop<i;s;)if(r){if(s.offsetTop+a>i||!s.nextSibling)break;s=s.nextSibling}else{if(s.offsetTop<=i||!s.previousSibling)break;s=s.previousSibling}return this._view[e(s).data("offset-index")]},_fixedHeader:function(){this.isGrouped()&&this.templates.fixedGroupTemplate?(this.header.show(),this.content.scroll(this._onScroll)):(this.header.hide(),this.content.off("scroll",this._onScroll))},_renderHeader:function(){var e=this.templates.fixedGroupTemplate;if(e){var t=this._firstVisibleItem();t&&t.group.toString().length&&this.header.html(e(t.group))}},_renderItem:function(e){var t='<li tabindex="-1" role="option" unselectable="on" class="k-item',i=e.item,a=0!==e.index,n=e.selected,s=this.isGrouped(),r=this.options.columns&&this.options.columns.length;return a&&e.newGroup&&(t+=" k-first"),e.isLastGroupedItem&&r&&(t+=" k-last"),n&&(t+=" k-state-selected"),t+='" aria-selected="'+(n?"true":"false")+'" data-offset-index="'+e.index+'">',t+=r?this._renderColumns(i):this.templates.template(i),a&&e.newGroup?t+=r?'<div class="k-cell k-group-cell"><span>'+this.templates.groupTemplate(e.group)+"</span></div>":'<div class="k-group">'+this.templates.groupTemplate(e.group)+"</div>":s&&r&&(t+="<div class='k-cell k-spacer-cell'></div>"),t+"</li>"},_renderColumns:function(e){for(var t="",i=0;i<this.options.columns.length;i++){var a=this.options.columns[i].width,n=parseInt(a,10),r="";a&&!isNaN(n)&&(r+="style='width:",r+=n,r+=s.test(a)?"%":"px",r+=";'"),t+="<span class='k-cell' "+r+">",t+=this.templates["column"+i](e),t+="</span>"}return t},_render:function(){var e,t,i,a,n="",s=0,r=0,l=[],o=this.dataSource.view(),u=this.value(),c=this.isGrouped();if(c)for(s=0;s<o.length;s++)for(t=o[s],i=!0,a=0;a<t.items.length;a++)e={selected:this._selected(t.items[a],u),item:t.items[a],group:t.value,newGroup:i,isLastGroupedItem:a===t.items.length-1,index:r},l[r]=e,r+=1,n+=this._renderItem(e),i=!1;else for(s=0;s<o.length;s++)e={selected:this._selected(o[s],u),item:o[s],index:s},l[s]=e,n+=this._renderItem(e);this._view=l,this.element[0].innerHTML=n,c&&l.length&&this._renderHeader()},_selected:function(e,t){return(!this.isFiltered()||"multiple"===this.options.selectable)&&-1!==this._dataItemPosition(e,t)},setDSFilter:function(e){this._lastDSFilter=C({},e)},isFiltered:function(){return this._lastDSFilter||this.setDSFilter(this.dataSource.filter()),!i.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},refresh:function(e){var t,i=this,a=e&&e.action,n=i.options.skipUpdateOnBind,s="itemchange"===a;i.trigger("dataBinding"),i._angularItems("cleanup"),i._fixedHeader(),i._render(),i.bound(!0),s||"remove"===a?(t=function(e,t){var i,a,n,s,r=t.length,l=e.length,o=[],u=[];if(l)for(n=0;n<l;n++){for(i=e[n],a=!1,s=0;s<r;s++)if(i===t[s]){a=!0,o.push({index:n,item:i});break}a||u.push(i)}return{changed:o,unchanged:u}}(i._dataItems,e.items)).changed.length&&(s?i.trigger("selectedItemChange",{items:t.changed}):i.value(i._getValues(t.unchanged))):i.isFiltered()||i._skipUpdate||i._emptySearch?(i.focus(0),i._skipUpdate&&(i._skipUpdate=!1,i._selectedIndices=i._valueIndices(i._values,i._selectedIndices))):n||a&&"add"!==a||i.value(i._values),i._valueDeferred&&i._valueDeferred.resolve(),i._angularItems("compile"),i.trigger("dataBound")},bound:function(e){if(e===t)return this._bound;this._bound=e},isGrouped:function(){return(this.dataSource.group()||[]).length}});function N(e){return e[e.length-1]}function O(e){var t=e.selectedIndex;return t>-1?e.options[t]:{}}function M(t){return!(!t||e.isEmptyObject(t)||t.filters&&!t.filters.length)}function z(t,i){var a,n=!1;return t.filters&&(a=e.grep(t.filters,(function(e){return n=z(e,i),e.filters?e.filters.length:e.field!=i})),n||t.filters.length===a.length||(n=!0),t.filters=a),n}a.plugin(q)}(window.kendo.jQuery),window.kendo})?a.apply(t,n):a)||(e.exports=s)}})}}]);