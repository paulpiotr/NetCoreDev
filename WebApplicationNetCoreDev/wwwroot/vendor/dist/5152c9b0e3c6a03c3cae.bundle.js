(self.webpackChunk_5_112_1332=self.webpackChunk_5_112_1332||[]).push([[5621],{9496:(e,t,i)=>{e.exports=function(e){var t={};function i(s){if(t[s])return t[s].exports;var a=t[s]={exports:{},id:s,loaded:!1};return e[s].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}return i.m=e,i.c=t,i.p="",i(0)}({0:function(e,t,i){e.exports=i(1359)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1046:function(e,t){e.exports=i(1906)},1359:function(e,t,i){var s,a,r;i(3),a=[i(1046)],void 0===(r="function"==typeof(s=function(){return function(e,t){var i=window.kendo,s=i.ui,a=s.Widget,r=".kendoPivotConfigurator",n=i.template('<p class="k-reset"><span class="k-icon #=icon#"></span>${name}</p><div class="k-list-container k-reset"></div>');function o(e){return{name:e.uniqueName,type:e.type}}function l(t){var i=e(t).closest(".k-pivot-setting");return i.length?i.data("kendoPivotSettingTarget"):null}var c=a.extend({init:function(e,t){a.fn.init.call(this,e,t),this.element.addClass("k-widget k-fieldselector k-alt k-edit-form-container"),this._dataSource(),this._layout(),this.refresh(),i.notify(this)},events:[],options:{name:"PivotConfigurator",filterable:!1,sortable:!1,messages:{measures:"Drop Data Fields Here",columns:"Drop Column Fields Here",rows:"Drop Rows Fields Here",measuresLabel:"Measures",columnsLabel:"Columns",rowsLabel:"Rows",fieldsLabel:"Fields"}},_dataSource:function(){var t=this;t.dataSource&&t._refreshHandler?t.dataSource.unbind("change",t._refreshHandler).unbind("error",t._errorHandler).unbind("progress",t._progressHandler):(t._errorHandler=e.proxy(t._error,t),t._refreshHandler=e.proxy(t.refresh,t),t._progressHandler=e.proxy(t._requestStart,t)),t.dataSource=i.data.PivotDataSource.create(t.options.dataSource),t.dataSource.bind("change",t._refreshHandler).bind("error",t._errorHandler).bind("progress",t._progressHandler)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.measures&&this.measures.setDataSource(e),this.rows&&this.rows.setDataSource(e),this.columns&&this.columns.setDataSource(e),this.refresh()},_treeViewDataSource:function(){var t=this;return i.data.HierarchicalDataSource.create({schema:{model:{id:"uniqueName",hasChildren:function(e){return!("hierarchyUniqueName"in e)&&!("aggregator"in e)}}},transport:{read:function(i){var s,a;e.isEmptyObject(i.data)?t.dataSource.schemaDimensions().done((function(e){t.dataSource.cubeBuilder||function(e){for(var t,i=0,s=e.length;i<s;i++)if(2==e[i].type){t=!0;break}t&&e.splice(i+1,0,{caption:"KPIs",defaultHierarchy:"[KPIs]",name:"KPIs",uniqueName:"[KPIs]"})}(e),i.success(e)})).fail(i.error):("[KPIs]"===(s=t.treeView.dataSource.get(i.data.uniqueName)).uniqueName?(a=!0,t.dataSource.schemaKPIs().done((function(e){i.success(function(e){for(var t=0,i=e.length;t<i;t++)e[t].uniqueName=e[t].name,e[t].type="kpi";return e}(e))})).fail(i.error)):"kpi"==s.type&&(a=!0,i.success(d(s))),a||(2==s.type?t.dataSource.schemaMeasures():s.dimensionUniqueName?t.dataSource.schemaLevels(i.data.uniqueName):t.dataSource.schemaHierarchies(i.data.uniqueName)).done(i.success).fail(i.error))}}})},_progress:function(e){i.ui.progress(this.element,e)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_layout:function(){this.form=e('<div class="k-columns k-state-default k-floatwrap"/>').appendTo(this.element),this._fields(),this._targets()},_fields:function(){var t=e('<div class="k-state-default"><p class="k-reset"><span class="k-icon k-i-group"></span>'+this.options.messages.fieldsLabel+"</p></div>").appendTo(this.form);this.treeView=e("<div/>").appendTo(t).kendoTreeView({template:'# if (item.type == 2 || item.uniqueName == "[KPIs]") { #<span class="k-icon k-i-#= (item.type == 2 ? "sum" : "kpi") #"></span># } else if (item.type && item.type !== "kpi") { #<span class="k-icon k-i-arrows-dimensions"></span># } ##: item.caption || item.name #',dataTextField:"caption",dragAndDrop:!0,autoBind:!1,dataSource:this._treeViewDataSource(),dragstart:function(e){var t=this.dataItem(e.sourceNode);(t.hasChildren||t.aggregator||t.measure)&&2!=t.type&&"[KPIs]"!==t.uniqueName||e.preventDefault()},drag:function(e){var t="k-i-cancel",i=l(e.dropTarget);i&&i.validate(this.dataItem(e.sourceNode))&&(t="k-i-plus"),e.setStatusClass(t)},drop:function(e){e.preventDefault();var t,i,s,a,r=l(e.dropTarget),n=this.dataItem(e.sourceNode);if(r&&r.validate(n)){if(a=n.defaultHierarchy||n.uniqueName,"kpi"===n.type)for(i=(s=d(n)).length,a=[],t=0;t<i;t++)a.push(o(s[t]));else n.kpi&&(a=[o(n)]);r.add(a)}}}).data("kendoTreeView")},_createTarget:function(t,s){var a='<li class="k-item k-header" data-'+i.ns+'name="${data.name}">${data.name}',r=s.sortable,n="";return r&&(n+="#if (data.sortIcon) {#",n+='<span class="k-icon ${data.sortIcon}-sm"></span>',n+="#}#"),(s.filterable||r)&&(n+='<span class="k-icon k-i-more-vertical k-setting-fieldmenu"></span>'),a+='<span class="k-field-actions">'+(n+='<span class="k-icon k-i-close k-setting-delete"></span>')+"</span></li>",new i.ui.PivotSettingTarget(t,e.extend({dataSource:this.dataSource,hint:function(t){var i=e('<div class="k-fieldselector"><ul class="k-list k-reset"></ul></div>');return i.find(".k-list").append(t.clone()),i},template:a,emptyTemplate:'<li class="k-item k-empty">${data}</li>'},s))},_targets:function(){var t=e('<div class="k-state-default"/>').appendTo(this.form),i=e(n({name:this.options.messages.columnsLabel,icon:"k-i-columns"})).appendTo(t),s=e('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(i.last()),a=e(n({name:this.options.messages.rowsLabel,icon:"k-i-rows"})).appendTo(t),r=e('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(a.last()),o=e(n({name:this.options.messages.measuresLabel,icon:"k-i-sum"})).appendTo(t),l=e('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(o.last()),c=this.options;this.columns=this._createTarget(s,{filterable:c.filterable,sortable:c.sortable,connectWith:r,messages:{empty:c.messages.columns,fieldMenu:c.messages.fieldMenu}}),this.rows=this._createTarget(r,{filterable:c.filterable,sortable:c.sortable,setting:"rows",connectWith:s,messages:{empty:this.options.messages.rows,fieldMenu:this.options.messages.fieldMenu}}),this.measures=this._createTarget(l,{setting:"measures",messages:{empty:c.messages.measures}}),s.add(r).add(l).on("mouseenter.kendoPivotConfigurator mouseleave.kendoPivotConfigurator",".k-item:not(.k-empty)",this._toggleHover)},_toggleHover:function(t){e(t.currentTarget).toggleClass("k-state-hover","mouseenter"===t.type)},_resize:function(){var e,t,s=this.element,a=this.options.height,r=i._outerHeight;a&&(s.height(a),s.is(":visible")&&(t=s.children(".k-columns").children("div.k-state-default"),a=s.innerHeight(),e=(r(s)-a)/2,a=a-(r(t,!0)-t.height())-e,t.height(a)))},refresh:function(){var e=this.dataSource;(e.cubeBuilder||this._cube!==e.cube()||this._catalog!==e.catalog())&&this.treeView.dataSource.fetch(),this._catalog=this.dataSource.catalog(),this._cube=this.dataSource.cube(),this._resize(),this._progress(!1)},destroy:function(){a.fn.destroy.call(this),this.dataSource.unbind("change",this._refreshHandler),this.form.find(".k-list").off(r),this.rows.destroy(),this.columns.destroy(),this.measures.destroy(),this.treeView.destroy(),this.element=null,this._refreshHandler=null}});function u(e,t,i){return{hierarchyUniqueName:e,uniqueName:t,caption:t,measure:t,name:t,type:i,kpi:!0}}function d(e){var t=e.name;return[u(t,e.value,"value"),u(t,e.goal,"goal"),u(t,e.status,"status"),u(t,e.trend,"trend")]}s.plugin(c)}(window.kendo.jQuery),window.kendo})?s.apply(t,a):s)||(e.exports=r)}})},3708:(e,t,i)=>{e.exports=function(e){var t={};function i(s){if(t[s])return t[s].exports;var a=t[s]={exports:{},id:s,loaded:!1};return e[s].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}return i.m=e,i.c=t,i.p="",i(0)}({0:function(e,t,i){e.exports=i(1360)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1054:function(e,t){e.exports=i(3696)},1095:function(e,t){e.exports=i(9839)},1195:function(e,t){e.exports=i(7383)},1360:function(e,t,i){var s,a,r;i(3),a=[i(1361),i(1095),i(1195),i(1362),i(1054)],void 0===(r="function"==typeof(s=function(){return function(e,t){var i=window.kendo,s=i.ui,a="kendoContextMenu",r=e.proxy,n=".kendoPivotFieldMenu",o=s.Widget,l="k-filter-item",c="aria-label",u=o.extend({init:function(e,t){o.fn.init.call(this,e,t),this._dataSource(),this._layout(),i.notify(this)},events:[],options:{name:"PivotFieldMenu",filter:null,filterable:!0,sortable:!0,messages:{info:"Show items with value that:",sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filterFields:"Fields Filter",filter:"Filter",include:"Include Fields...",title:"Fields to include",clear:"Clear",ok:"OK",cancel:"Cancel",operators:{contains:"Contains",doesnotcontain:"Does not contain",startswith:"Starts with",endswith:"Ends with",eq:"Is equal to",neq:"Is not equal to"}}},_layout:function(){var t=this.options;this.wrapper=e(i.template(f)({ns:i.ns,filterable:t.filterable,sortable:t.sortable,messages:t.messages})),this.menu=this.wrapper[a]({filter:t.filter,target:this.element,orientation:"vertical",showOn:"click",closeOnClick:!1,open:r(this._menuOpen,this),select:r(this._select,this),copyAnchorStyles:!1}).data(a),this._createWindow(),t.filterable&&this._initFilterForm()},_initFilterForm:function(){var e=this.menu.element.find("."+l),t=r(this._filter,this);this._filterOperator=new i.ui.DropDownList(e.find("select")),this._filterValue=e.find(".k-textbox"),this._updateFilterAriaLabel(),e.on("submit"+n,t).on("click"+n,".k-button-filter",t).on("click"+n,".k-button-clear",r(this._reset,this))},_setFilterForm:function(e){var t=this._filterOperator,i="",s="";e&&(i=e.operator,s=e.value),t.value(i),t.value()||t.select(0),this._filterValue.val(s)},_clearFilters:function(e){var t,i,s=this.dataSource.filter()||{},a=0;for(s.filters=s.filters||[],i=(t=d(s,e)).length;a<i;a++)s.filters.splice(s.filters.indexOf(t[a]),1);return s},_convert:function(t){var i=((this.dataSource.options.schema.model||{}).fields||{})[this.currentMember];return i&&("number"===i.type?t=parseFloat(t):"boolean"===i.type&&(t=Boolean(e.parseJSON(t)))),t},_filter:function(e){var t=this,i=t._convert(t._filterValue.val());if(e.preventDefault(),""!==i){var s={field:t.currentMember,operator:t._filterOperator.value(),value:i},a=t._clearFilters(t.currentMember);a.filters.push(s),t.dataSource.filter(a),t.menu.close()}else t.menu.close()},_updateFilterAriaLabel:function(){var e=this.menu.element.find("."+l),t=this._filterOperator.value(),i=this.options.messages.operators[t];e.find("select").attr(c,i)},_reset:function(e){var t=this,i=t._clearFilters(t.currentMember);e.preventDefault(),i.filters[0]||(i={}),t.dataSource.filter(i),t._setFilterForm(null),t.menu.close()},_sort:function(e){var t=this.currentMember,i=this.dataSource.sort()||[];(i=function(e,t){for(var i=[],s=0,a=e.length;s<a;s++)e[s].field!==t&&i.push(e[s]);return i}(i,t)).push({field:t,dir:e}),this.dataSource.sort(i),this.menu.close()},setDataSource:function(e){this.options.dataSource=e,this._dataSource()},_dataSource:function(){this.dataSource=i.data.PivotDataSource.create(this.options.dataSource)},_createWindow:function(){var t=this.options.messages;this.includeWindow=e(i.template(h)({messages:t})).on("click"+n,".k-button-ok",r(this._applyIncludes,this)).on("click"+n,".k-button-cancel",r(this._closeWindow,this)),this.includeWindow=new s.Window(this.includeWindow,{title:t.title,visible:!1,resizable:!1,open:r(this._windowOpen,this)})},_applyIncludes:function(e){var t,i=[],s=this.treeView.dataSource.view(),a=s[0].checked,r=this.dataSource.filter(),n=d(r,this.currentMember,"in")[0];p(s,i),n&&(a?(r.filters.splice(r.filters.indexOf(n),1),r.filters.length||(r={})):n.value=i.join(","),t=r),i.length&&(t||a||(t={field:this.currentMember,operator:"in",value:i.join(",")},r&&(r.filters.push(t),t=r))),t&&this.dataSource.filter(t),this._closeWindow(e)},_closeWindow:function(e){e.preventDefault(),this.includeWindow.close()},_treeViewDataSource:function(){var t=this;return i.data.HierarchicalDataSource.create({schema:{model:{id:"uniqueName",hasChildren:function(e){return parseInt(e.childrenCardinality,10)>0}}},transport:{read:function(i){var s={},a=t.treeView.dataSource.get(i.data.uniqueName);i.data.uniqueName?(s.memberUniqueName=a.uniqueName.replace(/\&/g,"&amp;"),s.treeOp=1):s.levelUniqueName=t.currentMember+".[(ALL)]",t.dataSource.schemaMembers(s).done((function(s){(function(t,i,s){var a,r=0,n=s.length;if(t=d(t,i,"in")[0])for(a=t.value.split(",");r<n;r++)s[r].checked=e.inArray(s[r].uniqueName,a)>=0;else for(;r<n;r++)s[r].checked=!0})(t.dataSource.filter(),t.currentMember,s),i.success(s)})).fail(i.error)}}})},_createTreeView:function(e){var t=this;t.treeView=new s.TreeView(e,{autoBind:!1,dataSource:t._treeViewDataSource(),dataTextField:"caption",template:"#: data.item.caption || data.item.name #",checkboxes:{checkChildren:!0},dataBound:function(){s.progress(t.includeWindow.element,!1)}})},_menuOpen:function(t){if(t.event){var s=i.attr("name");this.currentMember=e(t.event.target).closest("["+s+"]").attr(s),this.options.filterable&&this._setFilterForm(d(this.dataSource.filter(),this.currentMember)[0])}},_select:function(t){var i=e(t.item);e(".k-pivot-filter-window").not(this.includeWindow.element).kendoWindow("close"),i.hasClass("k-include-item")?this.includeWindow.center().open():i.hasClass("k-sort-asc")?this._sort("asc"):i.hasClass("k-sort-desc")?this._sort("desc"):i.hasClass(l)&&this._updateFilterAriaLabel()},_windowOpen:function(){this.treeView||this._createTreeView(this.includeWindow.element.find(".k-treeview")),s.progress(this.includeWindow.element,!0),this.treeView.dataSource.read()},destroy:function(){o.fn.destroy.call(this),this.menu&&(this.menu.destroy(),this.menu=null),this.treeView&&(this.treeView.destroy(),this.treeView=null),this.includeWindow&&(this.includeWindow.destroy(),this.includeWindow=null),this.wrapper=null,this.element=null}});function d(e,t,i){if(!e)return[];for(var s,a=0,r=[],n=(e=e.filters).length;a<n;a++)s=e[a].operator,(i||"in"===s)&&s!==i||e[a].field!==t||r.push(e[a]);return r}function p(e,t){var i,s=e.length;for(i=0;i<s;i++)e[i].checked&&0!==e[i].level()&&t.push(e[i].uniqueName),e[i].hasChildren&&p(e[i].children.view(),t)}var f='<ul class="k-pivot-fieldmenu"># if (sortable) {#<li class="k-item k-menu-item k-sort-asc"><span class="k-link k-menu-link"><span class="k-icon k-i-sort-asc-sm"></span>${messages.sortAscending}</span></li><li class="k-item k-menu-item k-sort-desc"><span class="k-link k-menu-link"><span class="k-icon k-i-sort-desc-sm"></span>${messages.sortDescending}</span></li># if (filterable) {#<li class="k-separator"></li># } ## } ## if (filterable) {#<li class="k-item k-menu-item k-include-item"><span class="k-link k-menu-link"><span class="k-icon k-i-filter"></span>${messages.include}</span></li><li class="k-separator"></li><li class="k-item k-menu-item k-filter-item"><span class="k-link k-menu-link"><span class="k-icon k-i-filter"></span>${messages.filterFields}</span><ul><li><div class="k-filterable k-content" tabindex="-1" data-role="fieldmenu"><form class="k-filter-menu"><div class="k-filter-menu-container"><div class="k-filter-help-text">#=messages.info#</div><select>#for(var op in messages.operators){#<option value="#=op#">#=messages.operators[op]#</option>#}#</select><input class="k-textbox" type="text" aria-label="#=messages.filter#" title="#=messages.filter#" /><div class="k-action-buttons"><a class="k-button k-primary k-button-filter" href="\\#">#=messages.filter#</a><a class="k-button k-button-clear" href="\\#">#=messages.clear#</a></div></div></form></div></li></ul></li># } #</ul>',h='<div class="k-popup-edit-form k-pivot-filter-window"><div class="k-edit-form-container"><div class="k-treeview"></div><div class="k-edit-buttons k-state-default"><a class="k-button k-primary k-button-ok" href="\\#">${messages.ok}</a><a class="k-button k-button-cancel" href="\\#">${messages.cancel}</a></div></div>';s.plugin(u)}(window.kendo.jQuery),window.kendo})?s.apply(t,a):s)||(e.exports=r)},1361:function(e,t){e.exports=i(3364)},1362:function(e,t){e.exports=i(1996)}})}}]);