(self.webpackChunk_5_112_1332=self.webpackChunk_5_112_1332||[]).push([[1754],{1754:(t,e,n)=>{t.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=t,n.c=e,n.p="",n(0)}({0:function(t,e,n){t.exports=n(1383)},3:function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},1377:function(t,e){t.exports=n(1034)},1383:function(t,e,n){var o,i,a;n(3),i=[n(1377)],void 0===(a="function"==typeof(o=function(){return function(t){var e=window.kendo,n=e.ui,o=n.SchedulerView,i=".kendoMonthView",a=t.extend,r=e.date.getDate,s=e.date.MS_PER_DAY,l="k-event-inverse",d=e.template('<span class="k-link k-nav-day">#:kendo.toString(date, "dd")#</span>'),u=e.template('<div title="#=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">#:title#</div></div>'),c=e.template('<div style="width:#=width#px;left:#=left#px;top:#=top#px" class="k-more-events k-button"><span class="k-icon k-i-more-horizontal"></span></div>'),h=e.Class.extend({init:function(t){this._view=t},_verticalRowCountForLevel:function(t){return this._view._rowCountForLevel(t)},_horizontalGroupCountForLevel:function(t){return this._view._columnCountForLevel(t)},_getCalendarRowsLength:function(t,e){return e/t},_createRows:function(t,e,n,o){for(var i=this._view,a=i._isVerticallyGrouped(),r="",s=0;s<n;s++)r+=i._createRow(t,e,7,a?o:s);return r},_adjustStartDate:function(t){return e.date.addDays(t,7)},_getContent:function(t,e,n){return t({date:e,resources:n})},_getTimeSlotByPosition:function(t,e,n){return this._view.groups[n].daySlotByPosition(t,e)},_nextSlotStartDate:function(t){return e.date.nextDay(t)},_createRowsLayout:function(t,e,n){return this._view._createRowsLayout(t,e,n)},_createVerticalColumnsLayout:function(t,e,n,o){return o},_createColumnsLayout:function(t,e,n){return this._view._createColumnsLayout(t,e,n)},_verticalGroupCount:function(t){return this._view._rowCountForLevel(t)},_horizontalGroupCount:function(t){var e=this._view;return e._columnCountForLevel(t)/e._columnOffsetForResource(t)},_positionMobileEvent:function(t,e,n,o,i,a,r){var s=this._view;o>1&&(0===r?a=n.end.endDate():r==o-1?i=n.start.startDate():(i=n.start.startDate(),a=n.end.endDate()));var l=t.clone({start:i,end:a,head:n.head,tail:n.tail});s._positionMobileEvent(n,s._createEventElement(l),e)},_positionEvent:function(t,e,n,o,i,a,r){var s=this._view;o>1&&(0===r?a=n.end.endDate():r==o-1?i=n.start.startDate():(i=n.start.startDate(),a=n.end.endDate()));var l=t.clone({start:i,end:a,head:n.head,tail:n.tail});s._positionEvent(n,s._createEventElement(l),e)},_addDaySlotCollections:function(t,n,o){for(var i=this._view,a=0;a<t;a++){var r=0,s=0;i._isVerticallyGrouped()&&(s=a);for(var l=6*s;l<6*(s+1);l++){var d=i.groups[a].addDaySlotCollection(e.date.addDays(o,r),e.date.addDays(o,r+7)),u=n[l],c=u.children,h=0;u.setAttribute("role","row"),i._isVerticallyGrouped()||(h=a);for(var f=7*h;f<7*(h+1);f++){var p=c[f];i.addDaySlot(d,p,o,r),r++}}}},_changePeriodGroupIndex:function(t){var e=this._view;return t?e.groups.length-1:0},_createResizeHint:function(t){var e=this._view,n=t.startSlot().offsetLeft,i=t.start.offsetTop,a=t.innerWidth(),r=t.start.clientHeight-2,s=o.fn._createResizeHint.call(e,n,i,a,r);e._appendResizeHint(s)},_createMoveHint:function(t,e){var n=this._view,o=t.startSlot(),i=t.endSlot(),a=n._createEventElement(e.clone({head:t.head,tail:t.tail}));a.css({left:o.offsetLeft+2,top:o.offsetTop+o.firstChildHeight,height:"auto"===n.options.eventHeight?25:n.options.eventHeight,width:t.innerWidth()-(o.index!==i.index?3:2)}),a.addClass("k-event-drag-hint"),e.inverseColor&&a.addClass(l),n._appendMoveHint(a)}}),f=e.Class.extend({init:function(t){this._view=t},_verticalRowCountForLevel:function(){return 1},_horizontalGroupCountForLevel:function(t){return this._view._columnCountForLevel(t+1)/7},_createRows:function(t,n,o){var i=this._view,a="",r=0;if(i._isVerticallyGrouped()){for(var s=new Date(t),l=i._groupCount();r<6;r++)a+=i._createRow(s,n,l,r),s=e.date.addDays(s,7);t=e.date.nextDay(t)}else{for(;r<7;r++)a+=i._createRow(t,n,o,r),t=e.date.nextDay(t);t=e.date.addDays(t,7)}return a},_adjustStartDate:function(t,n){return this._view._isVerticallyGrouped()?n?e.date.addDays(t,36):e.date.nextDay(t):e.date.addDays(t,7)},_getContent:function(t,e,n,o){return 0===o?t({date:e,resources:n}):""},_getTimeSlotByPosition:function(t,e,n){return this._view.groups[n].daySlotByPosition(t,e,!0)},_nextSlotStartDate:function(t){return t},_getCalendarRowsLength:function(){return this._view._isVerticallyGrouped()?7:6},_createRowsLayout:function(t,e,n,o){return this._view._createDateLayout(o,null,!1)},_createVerticalColumnsLayout:function(t,n,o){for(var i=this._view,a=t[0],r=[],s=a.dataSource.view(),l=0;l<6*s.length;l++){var d={text:o({text:e.htmlEncode(e.getter(a.dataTextField)(s[l%s.length])),color:e.getter(a.dataColorField)(s[l%s.length]),field:a.field,title:a.title,name:a.name,value:e.getter(a.dataValueField)(s[l%s.length])}),className:"k-slot-cell"};d.columns=i._createColumnsLayout(t.slice(1),null,o),r.push(d)}return r},_createColumnsLayout:function(t,e,n,o){return this._view._createColumnsLayout(t,e,n,o,!0)},_verticalGroupCount:function(t){return this._view._columnCountForLevel(t)/6},_horizontalGroupCount:function(t){return this._view._columnCountForLevel(t)/7},_positionMobileEvent:function(t,e,n,o,i,a){for(var r=this._view,s=n.start.index,l=n.end.index,d=n.start.index;d<=n.end.index;d++){var u=n.collection._slots[d],c=e.daySlotRanges(u.start,u.start,!0)[0],h=t.clone({start:d===s?i:u.startDate(),end:d===l?a:u.endDate(),head:d!==l||n.head,tail:d!==s||n.tail});r._positionMobileEvent(c,r._createEventElement(h),e)}},_positionEvent:function(t,e,n,o,i,a){for(var r=this._view,s=n.start.index,l=n.end.index,d=n.start.index;d<=n.end.index;d++){var u=n.collection._slots[d],c=e.daySlotRanges(u.start,u.start,!0)[0],h=t.clone({start:d===s?i:u.startDate(),end:d===l?a:u.endDate(),head:d!==l||n.head,tail:d!==s||n.tail});r._positionEvent(c,r._createEventElement(h),e)}},_addDaySlotCollections:function(t,n,o){for(var i=this._view,a=i._isVerticallyGrouped(),r=0;r<7;r++)for(var s=0;s<6;s++){var l=0,d=n[a?r:s],u=d.children,c=0;d.setAttribute("role","row"),i._isVerticallyGrouped()||(c=r);for(var h=c*t;h<(c+1)*t;h++){var f,p=7*s+r,v=u[a?h+s*t:h],_=a?h:l,g=i.groups[_];f=0===r?g.addDaySlotCollection(e.date.addDays(o,p),e.date.addDays(o,p+7)):g._daySlotCollections[s],i.addDaySlot(f,v,o,p),l++}}},_changePeriodGroupIndex:function(t,e,n){var o=this._view;return e&&o._isVerticallyGrouped()?t?o.groups.length-1:0:n},_createResizeHint:function(t){var e,n,i,a,r,s=this._view;if(s._isVerticallyGrouped())e=t.startSlot().offsetLeft,n=t.start.offsetTop,i=t.startSlot().offsetWidth,a=t.endSlot().offsetTop+t.startSlot().offsetHeight-t.startSlot().offsetTop-2,r=o.fn._createResizeHint.call(s,e,n,i,a),s._appendResizeHint(r);else for(var l=t.startSlot().index;l<=t.endSlot().index;l++){var d=t.collection._slots[l];e=d.offsetLeft,n=d.offsetTop,i=d.offsetWidth,a=d.offsetHeight-2,r=o.fn._createResizeHint.call(s,e,n,i,a),s._appendResizeHint(r)}},_createMoveHint:function(t,e){for(var n=this._view,o=t.startSlot(),i=t.endSlot(),a=o.index;a<=i.index;a++){var r=t.collection._slots[a],s=n._createEventElement(e.clone({head:t.head,tail:t.tail}));s.css({left:r.offsetLeft,top:r.offsetTop+r.firstChildHeight,height:"auto"===n.options.eventHeight?25:n.options.eventHeight,width:r.offsetWidth-2}),s.addClass("k-event-drag-hint"),e.inverseColor&&s.addClass(l),n._appendMoveHint(s)}}});function p(t,e,n){var o;return(o=t)>=e&&o<=n}e.ui.scheduler.MonthGroupedView=h,e.ui.scheduler.MonthGroupedByDateView=f,n.MonthView=o.extend({init:function(t,e){var n=this;0===e.eventsPerDay&&(e.eventsPerDay=1),0===e.eventHeight&&(e.eventHeight=1),0===e.moreButtonHeight&&(e.moreButtonHeight=1),"string"==typeof e.eventHeight&&"auto"!==e.eventHeight&&(e.eventHeight=25),"auto"===e.eventHeight&&(e.adaptiveSlotHeight=!0),o.fn.init.call(n,t,e),n._groupedView=n._getGroupedView();var i=this._isGroupedByDate(),a=this.options.adaptiveSlotHeight,r=this.options.eventHeight;if(!0===i&&!0===a)throw new Error("Incompatible options: adaptive slot height and date grouping!");if(!0===i&&"auto"===r)throw new Error("Incompatible options: auto event height and date grouping!");n.title=n.options.title,n._templates(),n._editable(),n._renderLayout(n.options.date),n._groups()},name:"month",_getGroupedView:function(){return this._isGroupedByDate()?new e.ui.scheduler.MonthGroupedByDateView(this):new e.ui.scheduler.MonthGroupedView(this)},_updateDirection:function(t,e,n,o,i){if(n){var a=e[0].start,r=e[e.length-1].end,s=a.index===r.index,l=a.collectionIndex===r.collectionIndex;(i?s&&l||l:s&&l)&&(t.backward=o)}},_changeDate:function(t,e,n){var o,i,a=this.groups[t.groupIndex];if(n){if(o=a._getCollections(a.daySlotCollectionCount()),(i=e.collectionIndex-1)>=0)return o[i]._slots[o[i]._slots.length-1]}else{if((o=a._getCollections(a.daySlotCollectionCount()))[i=e.collectionIndex+1]&&o[i]._slots[0])return o[i]._slots[0]}},_getNextHorizontalRange:function(t,e,n){var o=this._isVerticallyGrouped();return n.startSlot=t[e](n.startSlot,o),n.endSlot=t[e](n.endSlot,o),n},_getNextVerticalRange:function(t,e,n,o){var i=this._isVerticallyGrouped()&&this._isGroupedByDate();return n.startSlot=t[e](n.startSlot,o,i),n.endSlot=t[e](n.endSlot,o,i),n},_changeViewPeriod:function(t,n,o){var i,a,r=o?7:1;return n&&(r*=-1),i=e.date.addDays(t.start,r),a=e.date.addDays(t.end,r),!this._isInRange(i,a)&&(t.start=i,t.end=a,(!o||o&&this._isVerticallyGrouped())&&(t.groupIndex=this._groupedView._changePeriodGroupIndex(n,o,t.groupIndex)),t.events=[],!0)},_continuousSlot:function(t,e,n){var o=t.backward?0:e.length-1;return this.groups[t.groupIndex].continuousSlot(e[o].start,n)},_changeGroupContinuously:function(t,e,n,o){if(!n){var i=t.groupIndex,a=this.groups.length-1,r=this._isVerticallyGrouped(),s=this.groups[i];!e&&r?(e=s[o?"lastSlot":"firstSlot"](),i+=o?-1:1):e&&!r&&(i=o?a:0),(i<0||i>a)&&(i=o?a:0,e=null),t.groupIndex=i}return e},_normalizeHorizontalSelection:function(t,e,n){return n?e[0].start:e[e.length-1].end},_normalizeVerticalSelection:function(t,e){return t.backward?e[0].start:e[e.length-1].end},_templates:function(){var t=this.options,n=a({},e.Template,t.templateSettings);this.eventTemplate=this._eventTmpl(t.eventTemplate,'<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event"#} else {#class="k-event"#}#><span class="k-event-actions"># if (data.tail || data.middle) {#<span class="k-icon k-i-arrow-60-left"></span>#}## if (data.isException()) {#<span class="k-icon k-i-non-recurrence"></span># } else if (data.isRecurring()) {#<span class="k-icon k-i-reload"></span>#}#</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete" title="${data.messages.destroy}" aria-label="${data.messages.destroy}"><span class="k-icon k-i-close"></span></a>#}## if (data.head || data.middle) {#<span class="k-icon k-i-arrow-60-right"></span>#}#</span># if (resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-w"></span>#}## if (resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-e"></span>#}#</div>'),this.dayTemplate=e.template(t.dayTemplate,n),this.groupHeaderTemplate=e.template(t.groupHeaderTemplate,n)},dateForTitle:function(){return e.format(this.options.selectedDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},shortDateForTitle:function(){return e.format(this.options.selectedShortDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},mobileDateForTitle:function(){return e.format(this.options.selectedMobileDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},nextDate:function(){return e.date.nextDay(this._lastDayOfMonth)},previousDate:function(){return e.date.previousDay(this._firstDayOfMonth)},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_renderLayout:function(n){var o=this;this._firstDayOfMonth=e.date.firstDayOfMonth(n),this._lastDayOfMonth=e.date.lastDayOfMonth(n),this._startDate=function(t,n){for(var o=n.firstDay,i=new Date(t.getFullYear(),t.getMonth(),0,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());i.getDay()!=o;)e.date.setTime(i,-1*s);return i}(n,this.calendarInfo()),this.createLayout(this._layout()),this._content(),this._initSlotHeight(),this.refreshLayout(),this._isVirtualized()&&this._tryRenderContent(),this.content.on("click"+i,".k-nav-day,.k-more-events",(function(e){var n=t(e.currentTarget).offset(),i=o._slotByPosition(n.left,n.top);e.preventDefault(),o.trigger("navigate",{view:"day",date:i.startDate()})})),this._footer()},_editable:function(){this.options.editable&&(this._isMobile()?this._touchEditable():this._mouseEditable())},_mouseEditable:function(){var n=this;n.element.on("click"+i,".k-scheduler-monthview .k-event a:has(.k-i-close)",(function(o){n.trigger("remove",{uid:t(this).closest(".k-event").attr(e.attr("uid"))}),o.preventDefault()})),!1!==n.options.editable.create&&n.element.on("dblclick"+i,".k-scheduler-monthview .k-scheduler-content td",(function(e){var o=t(e.currentTarget).offset(),i=n._slotByPosition(o.left,o.top);if(i){var r=n._resourceBySlot(i);n.trigger("add",{eventInfo:a({isAllDay:!0,start:i.startDate(),end:i.startDate()},r)})}e.preventDefault()})),!1!==n.options.editable.update&&n.element.on("dblclick"+i,".k-scheduler-monthview .k-event",(function(o){n.trigger("edit",{uid:t(this).closest(".k-event").attr(e.attr("uid"))}),o.preventDefault()}))},_touchEditable:function(){var n=this,o=0;e.support.mobileOS.android&&(o=5),!1!==n.options.editable.create&&(n._addUserEvents=new e.UserEvents(n.element,{threshold:o,useClickAsTap:!e.support.browser.edge,filter:".k-scheduler-monthview .k-scheduler-content td",tap:function(e){if(!n._scrolling){var o=t(e.target).offset(),i=n._slotByPosition(o.left,o.top);if(i){var r=n._resourceBySlot(i);n.trigger("add",{eventInfo:a({isAllDay:!0,start:i.startDate(),end:i.startDate()},r)})}e.preventDefault()}}}))},selectionByElement:function(e){var n=t(e).offset();return this._slotByPosition(n.left,n.top)},_columnCountForLevel:function(t){var e=this.columnLevels[t];return e?e.length:0},_rowCountForLevel:function(t){var e=this.rowLevels[t];return e?e.length:0},_content:function(){var t="<tbody>",e=1,n=this._groupedView,o=this.groupedResources;o.length&&this._isVerticallyGrouped()&&(e=n._verticalRowCountForLevel(o.length-1));for(var i=0;i<e;i++)t+=this._createCalendar(i),this._cachedGroupIndex=i;t+="</tbody>",this.content.find("table").html(t)},_virtualContent:function(){var t="";t+=this._createCalendar(++this._cachedGroupIndex),this.content.find("table tbody").append(t),this._initSlotHeight()},_calcSlotHeight:function(t){var e,n=this.options,o=n.eventHeight,i=n.eventSpacing,a=n.moreButtonHeight,r=this.content.find("table tr td")[0];if("auto"!==o&&r)return e=r.firstChild,Math.round(r.offsetHeight-r.clientHeight+e.offsetTop+e.offsetHeight+2+t*o+(t-1)*i+(2+a)+2)},_initSlotHeight:function(){var t,e=this.options,n=e.eventsPerDay,o=e.eventHeight,i=this._isMobile(),a=this.content.find("table");i||"number"==typeof o&&(a.addClass("k-scheduler-table-auto"),t=this._calcSlotHeight(n),a.find("tr").height(t))},_adjustSlotHeight:function(t){var e=this.options,n=e.eventHeight,o=e.eventSpacing,i=e.moreButtonHeight;if(!0===this._canAdjustSlotHeight){var a=t._daySlotCollections;this.content.find("table").addClass("k-scheduler-table-auto"),a.forEach(function(t){var e=t._events,a=0,r=t._slots,s=r[0],l=s.element.offsetTop,d=0;r.forEach((function(t){t.eventMeta?t.actualEventCount=t.eventMeta.length:(t.eventMeta=[],t.actualEventCount=0)})),r.forEach((function(t,e){t.eventMeta.forEach((function(n,o){n.startIndex===e&&n.startIndex!==n.endIndex&&r.slice(e,n.endIndex+1).forEach((function(e){var i=e.eventMeta;i.indexOf(n)>-1||(i[i.length]=t.eventMeta[o],e.actualEventCount=i.length,e.dirty=!0)}))})),!0===t.dirty&&(t.eventMeta.sort((function(t,e){return t.order-e.order})),delete t.dirty)})),"auto"===n&&r.forEach((function(t,e){var n=t.firstChildTop+t.firstChildHeight+2;t.eventMeta.forEach((function(t,e){t.top=Math.max(t.top,l+n),n=t.top-l+o+t.height}))})),r.forEach((function(t,r){var s=t.firstChildTop+t.firstChildHeight+2;t.eventMeta.forEach((function(t){t.top=Math.max(t.top,l+s),s=t.top-l+o+t.height,t.startIndex===r&&(e[a].element[0].style.top=t.top+"px",a++)})),t.eventMeta.length>0?(s-=o,s+=2):s+="auto"===n?25:n,t.more&&(t.more[0].style.top=l+s+"px",s+=2+i),d=Math.max(d,s+1)})),s.element.parentNode.style.height=d+"px",r.forEach((function(t){t.offsetTop=l,t.offsetHeight=d,t.clientHeight=d-1}))}.bind(this))}},_createCalendar:function(t){var n=this.startDate(),o=[n],i="",a=1,r=this._isVerticallyGrouped(),s=this._groupedView,l=this.groupedResources;l.length&&(r||(a=s._horizontalGroupCountForLevel(l.length-1))),this._slotIndices={};for(var d=s._getCalendarRowsLength(7,42),u=0;u<d;u++){i+="<tr>",o.push(n);var c=7*u;i+=s._createRows(n,c,a,t),n=s._adjustStartDate(n,u===d-1),i+="</tr>"}return this._weekStartDates=o,this._endDate=e.date.previousDay(n),i},_createRow:function(t,n,o,i){for(var a=this,s=a._firstDayOfMonth,l=a._lastDayOfMonth,d=a.dayTemplate,u="",c="",h=this._groupedView,f=function(){return a._resourceBySlot({groupIndex:i})},p=0;p<o;p++)u="",e.date.isToday(t)&&(u+="k-today"),e.date.isInDateRange(t,s,l)||(u+=" k-other-month"),c+="<td ",""!==u&&(c+='class="'+u+'"'),c+=">",c+=h._getContent(d,t,f,p),c+="</td>",a._slotIndices[r(t).getTime()]=n+p,t=h._nextSlotStartDate(t);return c},_layout:function(){var e,n=this.calendarInfo(),o=function(t,e){return t.slice(e).concat(t.slice(0,e))}(this._isMobile()?n.days.namesShort.map((function(t){return t[0]})):n.days.names,n.firstDay),i=t.map(o,(function(t){return{text:t}})),a=this.groupedResources,r=this._groupedView;if(a.length)if(this._isVerticallyGrouped()){for(var s=[],l=0;l<6;l++)s.push({text:"<div>&nbsp;</div>",className:"k-hidden k-slot-cell"});e=r._createRowsLayout(a,s,this.groupHeaderTemplate,i),i=r._createVerticalColumnsLayout(a,s,this.groupHeaderTemplate,i)}else i=r._createColumnsLayout(a,i,this.groupHeaderTemplate,i);return{columns:i,rows:e}},_createEventElement:function(n){var o=this.options,i=o.editable,a=this._isMobile();n.showDelete=i&&!1!==i.destroy&&!a,n.resizable=i&&!1!==i.resize&&!a,n.ns=e.ns,n.resources=this.eventResources(n),n.inverseColor=!1,n.messages=o.messages||{destroy:"Delete"};var r=t(this.eventTemplate(n));return this.angular("compile",(function(){return{elements:r,data:[{dataItem:n}]}})),r},_isInDateSlot:function(t){var n=this.groups[0],o=n.firstSlot().start,i=n.lastSlot().end-1,a=e.date.toUtcTime(t.start),r=e.date.toUtcTime(t.end);return(p(a,o,i)||p(r,o,i)||p(o,a,r)||p(i,a,r))&&(!p(r,o,o)||p(r,a,a)||t.isAllDay)},_slotIndex:function(t){return this._slotIndices[r(t).getTime()]},_positionMobileEvent:function(n,i,a){var r=n.start;n.start.offsetLeft>n.end.offsetLeft&&(r=n.end);var s=n.start.index,l=s,d=o.collidingEvents(n.events(),s,l);d.push({element:i,start:s,end:l});var u=o.createRows(d),c=n.collection.at(s),h=c.container;h||(h=t(e.format('<div class="k-events-container" style="top:{0};left:{1};width:{2}"></div>',r.offsetTop+r.firstChildTop+r.firstChildHeight+"px",r.offsetLeft+"px",r.offsetWidth+"px")),c.container=h,this.content[0].appendChild(h[0])),u.length<=3&&(n.addEvent({element:i,start:s,end:l,groupIndex:r.groupIndex}),a._continuousEvents.push({element:i,uid:i.attr(e.attr("uid")),start:n.start,end:n.end}),h[0].appendChild(i[0]))},_positionEvent:function(n,i,a){var r=this.options.eventHeight,s=this.options.eventSpacing,l=n.start;n.start.offsetLeft>n.end.offsetLeft&&(l=n.end);var d=n.start.index,u=n.end.index,h=l.eventCount,f=o.collidingEvents(n.events(),d,u),p=d!==u?3:2;f.push({element:i,start:d,end:u});for(var v=o.createRows(f),_=0,g=Math.min(v.length,h);_<g;_++)for(var y=v[_].events,m="auto"===r?"":l.offsetTop+l.firstChildTop+l.firstChildHeight+2+_*(r+s)+"px",D=0,w=y.length;D<w;D++)y[D].element[0].style.top=m,y[D].element.attr(e.attr("order"),_);if(v.length>h)for(var x=d;x<=u;x++){var C=n.collection.at(x);C.more||(C.more=t(c({ns:e.ns,start:x,end:x,width:C.clientWidth-2,left:C.offsetLeft+2,top:"auto"===r?"":C.offsetTop+C.firstChildTop+C.firstChildHeight+2+h*r+(h-1)*s+2})),this.content[0].appendChild(C.more[0]))}else{n.addEvent({element:i,start:d,end:u,groupIndex:l.groupIndex}),i[0].style.width=n.innerWidth()-p+"px",i[0].style.left=l.offsetLeft+2+"px",i[0].style.height="auto"===r?"":r+"px",a._continuousEvents.push({element:i,uid:i.attr(e.attr("uid")),start:n.start,end:n.end,order:parseInt(i.attr(e.attr("order")),10)}),i.appendTo(this.content),this._inverseEventColor(i);var S=n.start.collectionIndex,H=n.start.index,k=a._daySlotCollections[S]._slots[H];k.eventMeta||(k.eventMeta=[]),k.eventMeta.push({height:"auto"===r?i.outerHeight():r,top:0,startIndex:H,endIndex:n.end.index,uid:i.attr(e.attr("uid")),order:parseInt(i.attr(e.attr("order")),10)})}},_slotByPosition:function(t,e){var n=this.content.offset();t-=n.left,e-=n.top,e+=this.content[0].scrollTop,t+=this.content[0].scrollLeft,t=Math.ceil(t),e=Math.ceil(e);for(var o=0;o<this.groups.length;o++){var i=this._groupedView._getTimeSlotByPosition(t,e,o);if(i)return i}return null},_appendResizeHint:function(t){t.appendTo(this.content),this._resizeHint=this._resizeHint.add(t)},_updateResizeHint:function(t,n,o,i){this._removeResizeHint();for(var a=this.groups[n].ranges(o,i,!0,t.isAllDay),r=0;r<a.length;r++)this._groupedView._createResizeHint(a[r]);this._resizeHint.find(".k-label-top,.k-label-bottom").text(""),this._resizeHint.first().addClass("k-first").find(".k-label-top").text(e.toString(e.timezone.toLocalDate(o),"M/dd")),this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(e.toString(e.timezone.toLocalDate(i),"M/dd"))},_updateMoveHint:function(t,n,o){var i=e.date.toUtcTime(t.start)+o,a=i+t.duration(),r=this.groups[n].ranges(i,a,!0,t.isAllDay);this._removeMoveHint(t.uid);for(var s=0;s<r.length;s++)this._groupedView._createMoveHint(r[s],t)},_appendMoveHint:function(t){t.appendTo(this.content),this._moveHint=this._moveHint.add(t)},_groups:function(){var t=this._groupCount(),e=this.content[0].getElementsByTagName("tr"),n=this.startDate();this.groups=[];for(var o=0;o<t;o++)this._addResourceView(o);this._groupedView._addDaySlotCollections(t,e,n)},addDaySlot:function(t,n,o,i){var a=e.date.addDays(o,i),r=e.date.MS_PER_DAY,s=this.options.eventsPerDay;o.getHours()!==a.getHours()&&(r+=(o.getHours()-a.getHours())*e.date.MS_PER_HOUR),r+=a=e.date.toUtcTime(a),n.setAttribute("role","gridcell"),n.setAttribute("aria-selected",!1),t.addDaySlot(n,a,r,s)},render:function(t){this.content.children(".k-event,.k-more-events,.k-events-container").remove(),this._cachedEvents=t,this._groups(),t=new e.data.Query(t).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray().filter(function(t){return this._isInDateSlot(t)}.bind(this));var n=this.groupedResources,o=this._isMobile(),i=this._isGroupedByDate(),a=this.options.adaptiveSlotHeight;this._canAdjustSlotHeight=!0!==o&&!0!==i&&0===n.length&&!0===a,n.length?this._renderGroups(t,n,0,1):this._renderEvents(t,0),this.refreshLayout(),this.trigger("activate")},_renderEvents:function(t,n){var o=this.groups[n],i=this._groupedView._view._isMobile();o&&(o._continuousEvents||(o._continuousEvents=[]),i?t.forEach(function(t){for(var n=o.slotRanges(t,!0),i=n[0],a=i.start.start,r=i.end.end,s=new Date(i.start.start),l=n[n.length-1].end.end,d=new Date(s),u=new Date(r);s.getTime()<=l&&t.end>=e.timezone.toLocalDate(s)&&t.start<=e.timezone.toLocalDate(l);){var c=o.daySlotRanges(d.getTime(),u.getTime(),!0)[0];u.setDate(u.getDate()+1),d.setDate(d.getDate()+1),c&&(c.head=null,c.middle=null,c.tail=null,this._groupedView._positionMobileEvent(t,o,c,1,a,r,0)),s=e.date.addDays(s,1)}}.bind(this)):(t.forEach(function(t){for(var e,n=t.start,i=t.end,a=o.slotRanges(t,!0),r=a.length,s=0;s<r;s++)e=a[s],this._groupedView._positionEvent(t,o,e,r,n,i,s)}.bind(this)),!0===this._canAdjustSlotHeight&&this._adjustSlotHeight(o)))},_renderGroups:function(t,n,i,a){var r=n[0];if(r)for(var s=r.dataSource.view(),l=0;l<s.length;l++){var d=this._resourceValue(r,s[l]),u=new e.data.Query(t).filter({field:r.field,operator:o.groupEqFilter(d)}).toArray();n.length>1?i=this._renderGroups(u,n.slice(1),i++,a+1):this._renderEvents(u,i++)}return i},_groupCount:function(){var t=this.groupedResources,e=this._groupedView;return t.length?this._isVerticallyGrouped()?e._verticalGroupCount(t.length-1):e._horizontalGroupCount(t.length):1},_columnOffsetForResource:function(t){return this._columnCountForLevel(t)/this._columnCountForLevel(t-1)},destroy:function(){this.table&&this.table.removeClass("k-scheduler-monthview"),this.content&&this.content.off(i),this.element&&this.element.off(i),o.fn.destroy.call(this),this._isMobile()&&this.options.editable&&!1!==this.options.editable.create&&this._addUserEvents.destroy()},events:["remove","add","edit","navigate"],options:{title:"Month",name:"month",eventHeight:25,moreButtonHeight:13,editable:!0,selectedDateFormat:"{0:y}",selectedShortDateFormat:"{0:y}",selectedMobileDateFormat:"{0:MMMM}",groupHeaderTemplate:"#=text#",dayTemplate:d,eventTemplate:u,eventsPerDay:2,adaptiveSlotHeight:!1,eventSpacing:3}})}(window.kendo.jQuery),window.kendo})?o.apply(e,i):o)||(t.exports=a)}})}}]);