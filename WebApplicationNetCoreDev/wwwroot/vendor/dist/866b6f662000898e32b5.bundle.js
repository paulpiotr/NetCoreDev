(self.webpackChunk_5_112_1332=self.webpackChunk_5_112_1332||[]).push([[8045],{8045:(e,t,n)=>{e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={exports:{},id:i,loaded:!1};return e[i].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1257)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1059:function(e,t){e.exports=n(6758)},1194:function(e,t){e.exports=n(1717)},1257:function(e,t,n){var i,s,r;n(3),s=[n(1059),n(1194),n(1258),n(1259),n(1260),n(1261),n(1262),n(1263)],void 0===(r="function"==typeof(i=function(){return function(e,t){var n,i=window.kendo,s=e.extend({F10:121},i.keys),r="matchMedia"in window,a=i.support.mobileOS,o=i.ui.Widget,d=i.data.ObservableObject,l=i.data.ObservableArray,c=i.data.Query,u=e.isArray,h=e.inArray,p=i.isFunction,f=e.proxy,v=e.extend,g=e.isPlainObject,m=i._outerWidth,w=i._outerHeight,b=".kendoGantt",k="tabIndex",_="click",y="string",D="aria-activedescendant",T="gantt_active_cell",S=".",C=i.template('<button class="#=styles.buttonToggle#" type="button" aria-label="Toggle"><span class="#=styles.iconToggle#"></span></button>'),x='<button class="#=styles.button# #=className#" type="button" #if (action) {#data-action="#=action#"#}#><span class="#=iconClass#"></span><span class="k-button-text">#=text#</span></button>',R=i.template('<select class="k-dropdown #= styles.viewsDropdown #">#for(var view in views){#<option value="#=view#">#=views[view].title#</option>#}#</select>'),E=i.template('<div class="#=styles.viewsWrapper#"><span class="k-button-group #=styles.views#">#for(var view in views){#<button type="button" class="#=styles.button# #=styles.viewButton#-#= view.toLowerCase() #" data-#=ns#name="#=view#"><span class="k-button-text">#=views[view].title#</span></button>#}#</span></div>'),H={wrapper:"k-widget k-gantt",plannedTasks:"k-gantt-planned",rowHeight:"k-gantt-rowheight",content:"k-gantt-content",listWrapper:"k-gantt-treelist",list:"k-gantt-treelist",timelineWrapper:"k-gantt-timeline",timeline:"k-gantt-timeline",splitBarWrapper:"k-splitbar k-state-default k-splitbar-horizontal k-splitbar-draggable-horizontal",splitBar:"k-splitbar",splitBarHover:"k-splitbar-horizontal-hover",popupWrapper:"k-list-container",popupList:"k-list k-reset",resizeHandle:"k-resize-handle",icon:"k-icon",item:"k-item",line:"k-gantt-line",buttonDelete:"k-gantt-delete",buttonCancel:"k-gantt-cancel",buttonSave:"k-gantt-update",buttonToggle:"k-gantt-toggle",primary:"k-primary",hovered:"k-state-hover",selected:"k-state-selected",focused:"k-state-focused",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",tasks:"k-gantt-tasks",popup:{form:"k-popup-edit-form",editForm:"k-gantt-edit-form",formContainer:"k-edit-form-container",resourcesFormContainer:"k-resources-form-container",message:"k-popup-message",buttonsContainer:"k-edit-buttons k-state-default",button:"k-button",editField:"k-edit-field",editLabel:"k-edit-label",resourcesField:"k-gantt-resources"},toolbar:{headerWrapper:"k-gantt-header k-toolbar k-gantt-toolbar",footerWrapper:"k-gantt-footer k-toolbar k-gantt-toolbar",toolbar:"k-gantt-toolbar",views:"k-gantt-views",viewsWrapper:"k-gantt-views-wrapper",viewsDropdown:"k-views-dropdown",button:"k-button k-button-icontext",buttonToggle:"k-button k-button-icon k-gantt-toggle",iconPlus:"k-icon k-i-plus",iconPdf:"k-icon k-i-file-pdf",iconToggle:"k-icon k-i-layout-1-by-4",viewButtonDefault:"k-state-default",viewButton:"k-view",link:"k-link",pdfButton:"k-gantt-pdf",appendButton:"k-gantt-create"}};function B(e){return"["+i.attr("uid")+(e?"='"+e+"']":"]")}function W(t,n){var s=t.parents("["+i.attr("role")+'="gantt"]'),r=[],a=e(s).parentsUntil("body").filter((function(e,t){return"visible"!=i.getComputedStyles(t,["overflow"]).overflow})).add(window);t.attr(k,0),n&&a.each((function(t,n){r[t]=e(n).scrollTop()}));try{t[0].setActive()}catch(e){t[0].focus()}n&&a.each((function(t,n){e(n).scrollTop(r[t])}))}var I=o.extend({init:function(e,t,s){u(t)&&(t={dataSource:t}),n={append:{text:"Add Task",action:"add",className:I.styles.toolbar.appendButton,iconClass:I.styles.toolbar.iconPlus},pdf:{text:"Export to PDF",className:I.styles.toolbar.pdfButton,iconClass:I.styles.toolbar.iconPdf}},o.fn.init.call(this,e,t),s&&(this._events=s),this._wrapper(),this._resources(),this.options.views&&this.options.views.length||(this.options.views=["day","week","month"]),this._timeline(),this._toolbar(),this._footer(),this._adjustDimensions(),this._preventRefresh=!0,this.view(this.timeline._selectedViewName),this._preventRefresh=!1,this._dataSource(),this._assignments(),this._dropDowns(),this._list(),this._dependencies(),this._resizable(),this._scrollable(),this._dataBind(),this._attachEvents(),this._createEditor(),i.notify(this)},events:["dataBinding","dataBound","add","edit","remove","cancel","save","change","navigate","moveStart","move","moveEnd","resizeStart","resize","resizeEnd","columnHide","columnReorder","columnResize","columnShow","togglePlannedTasks"],options:{name:"Gantt",autoBind:!0,navigatable:!1,selectable:!0,editable:!0,resizable:!1,columnResizeHandleWidth:3,columns:[],views:[],dataSource:{},dependencies:{},resources:{},assignments:{},taskTemplate:null,messages:{save:"Save",cancel:"Cancel",destroy:"Delete",deleteTaskConfirmation:"Are you sure you want to delete this task?",deleteDependencyConfirmation:"Are you sure you want to delete this dependency?",deleteTaskWindowTitle:"Delete task",deleteDependencyWindowTitle:"Delete dependency",views:{day:"Day",week:"Week",month:"Month",year:"Year",start:"Start",end:"End"},actions:{append:"Add Task",addChild:"Add Child",insertBefore:"Add Above",insertAfter:"Add Below",pdf:"Export to PDF"},editor:{editorTitle:"Task",resourcesEditorTitle:"Resources",title:"Title",start:"Start",end:"End",plannedStart:"Planned Start",plannedEnd:"Planned End",percentComplete:"Complete",resources:"Resources",assignButton:"Assign",resourcesHeader:"Resources",unitsHeader:"Units"},plannedTasks:{switchText:"Planned Tasks",offsetTooltipAdvanced:"Met deadline earlier",offsetTooltipDelay:"Delay",seconds:"seconds",minutes:"minutes",hours:"hours",days:"days"}},showWorkHours:!0,showWorkDays:!0,toolbar:null,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,hourSpan:1,snap:!0,height:600,listWidth:"30%",rowHeight:null,showPlannedTasks:!1},select:function(e){var t=this.list;if(!e)return t.select();typeof e===y&&(e=t.content.find(e)),t.select(e),this.list.element.find("table[role=treegrid]").focus()},clearSelection:function(){this.list.clearSelection()},destroy:function(){o.fn.destroy.call(this),this.dataSource&&(this.dataSource.unbind("change",this._refreshHandler),this.dataSource.unbind("progress",this._progressHandler),this.dataSource.unbind("error",this._errorHandler)),this.dependencies&&(this.dependencies.unbind("change",this._dependencyRefreshHandler),this.dependencies.unbind("error",this._dependencyErrorHandler)),this.timeline&&(this.timeline.unbind(),this.timeline.destroy()),this.list&&(this.list.unbind(),this.list.destroy()),this.footerDropDown&&this.footerDropDown.destroy(),this.headerDropDown&&this.headerDropDown.destroy(),this._editor&&this._editor.destroy(),this._resizeDraggable&&this._resizeDraggable.destroy(),this.toolbar.off(b),r&&(this._mediaQuery.removeListener(this._mediaQueryHandler),this._mediaQuery=null),e(window).off("resize"+b,this._resizeHandler),e(this.wrapper).off(b),this.toolbar=null,this.footer=null,i.destroy(this.element)},setOptions:function(t){var n=i.deepExtend({},this.options,t),s=this._events;if(!t.views){var r=this.view().name;n.views=e.map(this.options.views,(function(e){var t=g(e),n=t?"string"!=typeof e.type?e.title:e.type:e;return r===n?t?e.selected=!0:e={type:n,selected:!0}:t&&(e.selected=!1),e}))}t.dataSource||(n.dataSource=this.dataSource),t.dependencies||(n.dependencies=this.dependencies),t.resources||(n.resources=this.resources),t.assignments||(n.assignments=this.assignments),this.destroy(),this.element.empty(),this.options=null,this.init(this.element,n,s),o.fn._setEvents.call(this,n)},_attachEvents:function(){this._resizeHandler=f(this.resize,this,!1),e(window).on("resize"+b,this._resizeHandler),r&&!0===this._mediaQuery.matches&&this._mediaQueryHandler({matches:!0})},_wrapper:function(){var t=I.styles,n=[t.icon,t.resizeHandle].join(" "),i=this.options,s=i.height,r=i.width;this.wrapper=this.element.addClass(t.wrapper),this.layout=e("<div class='"+t.content+"' />").appendTo(this.wrapper).append("<div class='"+t.listWrapper+"'><div></div></div>").append("<div class='"+t.splitBarWrapper+"'><div class='"+n+"'></div></div>").append("<div class='"+t.timelineWrapper+"'><div></div></div>"),i.showPlannedTasks&&this.wrapper.addClass(t.plannedTasks),s&&this.wrapper.css("height",s),r&&this.wrapper.css("width",r),i.rowHeight&&this.wrapper.addClass(t.rowHeight),this.treelistWrapper=this.wrapper.find(S+t.list),this.splitbar=this.wrapper.find(S+t.splitBar),this.timelineWrapper=this.wrapper.find(S+t.timeline),this.treelistWrapper.css("width",i.listWidth),this.timelineWrapper.css("width",this.wrapper.width()-this.treelistWrapper.outerWidth()-this.splitbar.outerWidth())},_toolbar:function(){var t,n,a,o=this,d=I.styles,l=S+d.toolbar.views+" > button",c=S+d.toolbar.viewsDropdown,u=S+d.toolbar.pdfButton,h=S+d.buttonToggle,v=S+d.gridContent,g=o.splitbar,m=o.treelistWrapper,w=o.timelineWrapper,k=this.options.toolbar;p(k)||(k=typeof k===y?k:this._actions(k),k=f(i.template(k),this)),a=e(C({styles:d.toolbar})),n=e(E({ns:i.ns,views:this.timeline.views,styles:d.toolbar})),t=e("<div class='"+d.toolbar.headerWrapper+"'>").append(a).append(k({})).append("<span class='k-spacer k-toolbar-spacer' />").append(n),n.find("button").length>1&&n.prepend(R({ns:i.ns,views:this.timeline.views,styles:d.toolbar})),this.toggeSwitchWrap&&this.toggeSwitchWrap.insertBefore(n),this.wrapper.prepend(t),this.toolbar=t,r&&(this._mediaQueryHandler=f((function(e){e.matches?(m.addClass("k-hidden"),g.addClass("k-hidden"),m.width("100%")):(m.removeClass("k-hidden"),g.removeClass("k-hidden"),w.removeClass("k-hidden"),m.width(m.outerWidth()),o.refresh(),w.find(v).scrollTop(o.scrollTop)),o._resize()}),this),this._mediaQuery=window.matchMedia("(max-width: 480px)"),this._mediaQuery.addListener(this._mediaQueryHandler)),t.on("change"+b,c,(function(){var t=o.list,n=e(this).val();t.editable&&t.editable.trigger("validate")||(o.trigger("navigate",{view:n})||o.view(n),o.toolbar.find(S+d.focused).removeClass(d.focused))})).on(_+b,l,(function(t){t.preventDefault();var n=o.list,s=e(this).attr(i.attr("name"));n.editor&&!n.editor.end()||(o.trigger("navigate",{view:s})||o.view(s),o.toolbar.find(S+d.focused).removeClass(d.focused))})).on("keydown"+b,l,(function(t){var n=e(S+d.toolbar.views).children(":not(.k-current-view)"),i=n.index(o._focusedView&&o._focusedView[0]||n.closest(S+d.selected)[0]);t.keyCode===s.RIGHT?(e(o.toolbar.find(S+d.focused)).removeClass(d.focused),o._focusedView=i+1===n.length?e(n[0]):e(n[i+1]),o._focusedView.focus().addClass(d.focused),t.preventDefault()):t.keyCode===s.LEFT?(e(o.toolbar.find(S+d.focused)).removeClass(d.focused),o._focusedView=e(0===i?n[n.length-1]:n[i-1]),o._focusedView.focus().addClass(d.focused),t.preventDefault()):t.keyCode!==s.ENTER&&t.keyCode!==s.SPACEBAR||!o._focusedView?t.keyCode>=49&&t.keyCode<=57&&o.view(o.timeline._viewByIndex(t.keyCode-49)):(o.view(o._focusedView.text().toLowerCase()),t.preventDefault())})).on(_+b,u,(function(e){e.preventDefault(),o.saveAsPDF()})).on(_+b,h,(function(e){e.preventDefault(),m.is(":visible")?(m.addClass("k-hidden"),w.removeClass("k-hidden"),o.refresh(),w.find(v).scrollTop(o.scrollTop)):(m.removeClass("k-hidden"),w.addClass("k-hidden"),m.find(v).scrollTop(o.scrollTop)),o._resize()})),this.wrapper.on("focusout"+b,(function(t){e(t.relatedTarget).closest(S+d.toolbar.toolbar).length||o.toolbar.find(S+d.focused).removeClass(d.focused),e(t.relatedTarget).closest(S+d.toolbar.views).length||o.toolbar.find(S+d.toolbar.views).removeClass(d.toolbar.expanded)}))},_actions:function(){var e,t=this.options,n=t.editable,i=t.toolbar,s="";if(!u(i)){if(!n||!1===n.create)return s;i=["append"]}for(var r=0,a=i.length;r<a;r++)"plannedTasks"!==(e=i[r])&&"plannedTasks"!==e.name?s+=this._createButton(e):this._createPlannedTasksSwitch();return s},_footer:function(){var t=this.options.editable;if(t&&!1!==t.create){var s=I.styles.toolbar,r=this.options.messages.actions,a=e(i.template(x)(v(!0,{styles:s},n.append,{text:r.append}))),o=e("<div class='"+s.footerWrapper+"'>").append(a);this.wrapper.append(o),this.footer=o}},_createButton:function(e){var t=e.template||x,s=this.options.messages.actions,r=typeof e===y?e:e.name||e.text,a={iconClass:"",action:"",text:r,className:n[r]?n[r].className:"k-gantt-"+(r||"").replace(/\s/g,""),styles:I.styles.toolbar};if(!(r||g(e)&&e.template))throw new Error("Custom commands should have name specified");return a=v(!0,a,n[r],{text:s[r]}),g(e)&&(e.className&&h(a.className,e.className.split(" "))<0&&(e.className+=" "+a.className),a=v(!0,a,e)),i.template(t)(a)},_adjustDimensions:function(){var e=this.element,t=w(this.toolbar),n=this.footer?w(this.footer):0,i=e.height(),s=e.width(),r=this.splitbar.is(":visible")?m(this.splitbar):0,a=this.treelistWrapper.is(":visible")?m(this.treelistWrapper):0,o=s-(a+r);this.layout.children().height(i-(t+n)),this.timelineWrapper.width(o),s<a+r&&this.treelistWrapper.width(s-r)},_scrollTo:function(e){var t,n,s=this.timeline.view(),r=this.list,a=i.attr("uid"),o="string"==typeof e?e:e.closest("tr"+B()).attr(a);s.content.is(":visible")?(n=s.content.find(B(o)),t=function(){s._scrollTo(n)}):(n=r.element.find(B(o)),t=function(){n.get(0).scrollIntoView()}),0!==n.length&&t()},_dropDowns:function(){var e=this,t=S+I.styles.toolbar.appendButton,n=this.options.messages.actions,s=this.timeline,r=this.options.editable,a=function(t){var n,i=t.type,r=e.dataSource,a=r._createNewModel({}),o=e.dataItem(e.select()),d=r.taskParent(o),l=s.view()._timeSlots()[0],c="add"===i?o:d,u=e.list.editor;u&&u.trigger("validate")||(a.set("title","New task"),c?(a.set("parentId",c.get("id")),a.set("start",c.get("start")),a.set("end",c.get("end")),a.set("plannedStart",c.get("plannedStart")),a.set("plannedEnd",c.get("plannedEnd"))):(a.set("start",l.start),a.set("end",l.end)),"add"!==i&&(n=o.get("orderId"),n="insert-before"===i?n:n+1),e._createTask(a,n))};r&&!1!==r.create&&(this.footerDropDown=new i.gantt.TaskDropDown(this.footer.children(t).eq(0),{messages:{actions:n},direction:"up",animation:{open:{effects:"slideIn:up"}},navigatable:e.options.navigatable}),this.headerDropDown=new i.gantt.TaskDropDown(this.toolbar.children(t).eq(0),{messages:{actions:n},navigatable:e.options.navigatable}),this.footerDropDown.bind("command",a),this.headerDropDown.bind("command",a))},_getListEditable:function(){var e=!1,t=this.options;return!1!==t.editable&&(e="incell",t.editable&&!1===t.editable.update?e=!1:t.editable&&!1===t.editable.reorder||(e={mode:"incell",move:{reorderable:!0}})),e},_getListOptions:function(){var e=this.options,t=this._getListEditable(),n=this.wrapper.find(S+H.list);return{columns:e.columns||[],dataSource:this.dataSource,selectable:e.selectable,reorderable:e.reorderable,editable:t,resizable:e.resizable,filterable:e.filterable,columnMenu:e.columnMenu,columnResizeHandleWidth:this.options.columnResizeHandleWidth,listWidth:m(n),resourcesField:this.resources.field,rowHeight:this.options.rowHeight}},_attachResourceEditor:function(e){for(var t,n=0;n<e.length;n++)(t=e[n]).field===this.resources.field&&"function"!=typeof t.editor&&(t.editor=f(this._createResourceEditor,this))},_attachListEvents:function(){var e=this,n=e.options.navigatable,i=this.wrapper.find(S+H.toolbar.toolbar+" "+S+H.toolbar.appendButton),s=function(){var t;n&&e._cachedCurrent&&(t=e.list.content.find("tr").eq(e._cachedCurrent.rowIndex).find("td").eq(e._cachedCurrent.columnIndex),e._current(t),W(e.list.content.find("table"),!0)),delete e._cachedCurrent};e.list.bind("columnShow",(function(t){e.trigger("columnShow",{column:t.column})})).bind("columnHide",(function(t){e.trigger("columnHide",{column:t.column})})).bind("columnReorder",(function(t){e.trigger("columnReorder",{column:t.column,oldIndex:t.oldIndex,newIndex:t.newIndex})})).bind("columnResize",(function(t){e.trigger("columnResize",{column:t.column,oldWidth:t.oldWidth,newWidth:t.newWidth})})).bind("render",(function(){e._navigatable()}),!0).bind("beforeEdit",(function(t){e._cachedCurrent={rowIndex:t.container.closest("tr").index(),columnIndex:t.container.index()},e.trigger("edit",{task:t.model,container:t.container})&&t.preventDefault()})).bind("cancel",(function(t){e.trigger("cancel",{task:t.model,container:t.cell})?t.preventDefault():(e._preventItemChange=!0,e.list.closeCell(!0),s())})).bind("save",(function(n){var i=n.values;e._preventRefresh=!0,null!==e.updateDuration&&e.updateDuration!==t||(e.updateDuration=n.model.duration()),null!==e.updatePlannedDuration&&e.updatePlannedDuration!==t||(e.updatePlannedDuration=n.model.plannedDuration()),i.hasOwnProperty("start")&&(e.previousStart=n.model.get("start"),i.end=new Date(i.start.getTime()+e.updateDuration)),i.hasOwnProperty("plannedStart")&&i.plannedStart&&(e.previousPlannedStart=n.model.get("plannedStart"),i.plannedEnd=new Date(i.plannedStart.getTime()+e.updatePlannedDuration)),e.updatedValues=i})).bind("itemChange",(function(t){var n=e.updatedValues,i=t.data,r=e.resources.field;e._preventItemChange?e._preventItemChange=!1:(e.previousStart&&(i.set("start",e.previousStart),e.previousStart=null),e.previousPlannedStart&&(i.set("plannedStart",e.previousPlannedStart),e.previousPlannedStart=null),e.trigger("save",{task:i,values:n})?e.dataSource.hasChanges()&&(e.dataSource.cancelChanges(),e._preventRefresh=!1,e.refresh()):(n&&(e._preventRefresh=!0,e.dataSource.update(i,n),n[r]&&e._updateAssignments(i.get("id"),n[r])),e._preventRefresh=!1,e._requestStart(),e.dataSource.sync().then((function(){s()}))),e.updatedValues=null,e.updateDuration=null)})).bind("change",(function(){e.trigger("change");var t=e.list.select();t.length?(i.removeAttr("data-action","add"),e.timeline.select("[data-uid='"+t.attr("data-uid")+"']")):(i.attr("data-action","add"),e.timeline.clearSelection())})).bind("collapse",(function(t){t.preventDefault();var n=e.list.element.find("tr[data-uid='"+t.model.uid+"']");t.model.set("expanded",!1),e._cachedCurrent={rowIndex:n.index(),columnIndex:n.find(".k-state-focused").index()},s()})).bind("expand",(function(t){t.preventDefault();var n=e.list.element.find("tr[data-uid='"+t.model.uid+"']");t.model.set("expanded",!0),e._cachedCurrent={rowIndex:n.index(),columnIndex:n.find(".k-state-focused").index()},s()})).bind("dragend",(function(t){var n,i,s=e.dataSource;"over"===t.position&&(i={parentId:t.source.parentId},s.cancelChanges(),n=s.get(t.source.id),e.trigger("save",{task:n,values:i})||s.update(n,i)),s.sync()})).bind("dataBound",(function(){0===e.dataSource.sort().length&&e.dataSource.sort([{field:"orderId",dir:"asc"}])})).bind("reorder",(function(t){e._updateTask(t.task,t.updateInfo),s()}))},_list:function(){var e=I.styles,t=this.wrapper.find(S+e.list).find("> div"),n=this._getListOptions();this._attachResourceEditor(n.columns),this.list=new i.ui.GanttList(t,n),this._attachListEvents()},_timeline:function(){var e=this,t=I.styles,n=function(e){return delete e.name,delete e.prefix,delete e.remove,delete e.edit,delete e.add,delete e.navigate,e}(v(!0,{resourcesField:this.resources.field},this.options)),s=this.wrapper.find(S+t.timeline+" > div");this.timeline=new i.ui.GanttTimeline(s,n),this.timeline.bind("navigate",(function(n){var i=n.view.replace(/\./g,"\\.").toLowerCase();e.toolbar.find(S+t.toolbar.views+" > button").removeClass(t.selected).end().find(S+t.toolbar.viewButton+"-"+i).addClass(t.selected),e.toolbar.find(S+t.toolbar.viewsDropdown).val(i),e.refresh()})).bind("moveStart",(function(t){var n=e.list.editor;!n||n.end()?e.trigger("moveStart",{task:t.task})&&t.preventDefault():t.preventDefault()})).bind("move",(function(t){var n=t.task,i=t.start,s=new Date(i.getTime()+n.duration());e.trigger("move",{task:n,start:i,end:s})&&t.preventDefault()})).bind("moveEnd",(function(t){var n=t.task,i=t.start,s=new Date(i.getTime()+n.duration());e.trigger("moveEnd",{task:n,start:i,end:s})||e._updateTask(e.dataSource.getByUid(n.uid),{start:i,end:s})})).bind("resizeStart",(function(t){var n=e.list.editor;!n||n.end()?e.trigger("resizeStart",{task:t.task})&&t.preventDefault():t.preventDefault()})).bind("resize",(function(t){e.trigger("resize",{task:t.task,start:t.start,end:t.end})&&t.preventDefault()})).bind("resizeEnd",(function(t){var n=t.task,i={};t.resizeStart?i.start=t.start:i.end=t.end,e.trigger("resizeEnd",{task:n,start:t.start,end:t.end})||e._updateTask(e.dataSource.getByUid(n.uid),i)})).bind("percentResizeStart",(function(t){var n=e.list.editor;n&&!n.end()&&t.preventDefault()})).bind("percentResizeEnd",(function(t){e._updateTask(e.dataSource.getByUid(t.task.uid),{percentComplete:t.percentComplete})})).bind("dependencyDragStart",(function(t){var n=e.list.editor;n&&!n.end()&&t.preventDefault()})).bind("dependencyDragEnd",(function(t){var n=e.dependencies._createNewModel({type:t.type,predecessorId:t.predecessor.id,successorId:t.successor.id});e._createDependency(n)})).bind("select",(function(t){var n=e.list.editor;n&&n.end(),e.select("[data-uid='"+t.uid+"']")})).bind("editTask",(function(t){var n=e.list.editor;n&&!n.end()||e.editTask(t.uid)})).bind("clear",(function(){e.clearSelection()})).bind("removeTask",(function(t){var n=e.list.editor;n&&!n.end()||e.removeTask(e.dataSource.getByUid(t.uid))})).bind("removeDependency",(function(t){var n=e.list.editor;n&&!n.end()||e.removeDependency(e.dependencies.getByUid(t.uid))}))},_dataSource:function(){var e=this.options.dataSource;e=u(e)?{data:e}:e,this.dataSource&&this._refreshHandler?this.dataSource.unbind("change",this._refreshHandler).unbind("progress",this._progressHandler).unbind("error",this._errorHandler):(this._refreshHandler=f(this.refresh,this),this._progressHandler=f(this._requestStart,this),this._errorHandler=f(this._error,this)),this.dataSource=i.data.GanttDataSource.create(e).bind("change",this._refreshHandler).bind("progress",this._progressHandler).bind("error",this._errorHandler)},_dependencies:function(){var e=this.options.dependencies||{},t=u(e)?{data:e}:e;this.dependencies&&this._dependencyRefreshHandler?this.dependencies.unbind("change",this._dependencyRefreshHandler).unbind("error",this._dependencyErrorHandler):(this._dependencyRefreshHandler=f(this.refreshDependencies,this),this._dependencyErrorHandler=f(this._error,this)),this.dependencies=i.data.GanttDependencyDataSource.create(t).bind("change",this._dependencyRefreshHandler).bind("error",this._dependencyErrorHandler)},_resources:function(){var e=this.options.resources,t=e.dataSource||{};this.resources={field:"resources",dataTextField:"name",dataColorField:"color",dataFormatField:"format"},v(this.resources,e),this.resources.dataSource=i.data.DataSource.create(t)},_assignments:function(){var e=this.options.assignments,t=e.dataSource||{};this.assignments?this.assignments.dataSource.unbind("change",this._assignmentsRefreshHandler):this._assignmentsRefreshHandler=f(this.refresh,this),this.assignments={dataTaskIdField:"taskId",dataResourceIdField:"resourceId",dataValueField:"value"},v(this.assignments,e),this.assignments.dataSource=i.data.DataSource.create(t),this.assignments.dataSource.bind("change",this._assignmentsRefreshHandler)},_createEditor:function(){var e=this;(this._editor=new i.gantt.PopupEditor(this.wrapper,v({},this.options,{target:this,resources:{field:this.resources.field,editor:f(this._createResourceEditor,this)},createButton:f(this._createPopupButton,this)}))).bind("cancel",(function(t){var n=e.dataSource.getByUid(t.model.uid);e.trigger("cancel",{container:t.container,task:n})?t.preventDefault():e.cancelTask()})).bind("edit",(function(t){var n=e.dataSource.getByUid(t.model.uid);e.trigger("edit",{container:t.container,task:n})&&t.preventDefault()})).bind("save",(function(t){var n=e.dataSource.getByUid(t.model.uid);e.saveTask(n,t.updateInfo)})).bind("remove",(function(t){e.removeTask(t.model.uid)})).bind("close",e._onDialogClose)},_onDialogClose:function(){},_createResourceEditor:function(e,t){var n=this,s=t instanceof d?t:t.model,r=s.get("id"),a=this.options.messages,o=this.resources.field,l={step:.01},c=this.assignments.dataSource.options.schema.model;c&&c.fields.Units&&c.fields.Units.validation&&v(!0,l,c.fields.Units.validation),(this._resourceEditor=new i.gantt.ResourceEditor(e,{resourcesField:o,unitsValidation:l,data:this._wrapResourceData(r),model:s,messages:v({},a.editor),buttons:[{name:"update",text:a.save,className:I.styles.primary},{name:"cancel",text:a.cancel}],createButton:f(this._createPopupButton,this),save:function(e){n._updateAssignments(e.model.get("id"),e.model.get(o))}})).open()},_createPopupButton:function(e){var t=e.name||e.text,n={className:I.styles.popup.button+" k-gantt-"+(t||"").replace(/\s/g,""),text:t,attr:""};if(!(t||g(e)&&e.template))throw new Error("Custom commands should have name specified");return g(e)&&(e.className&&(e.className+=" "+n.className),n=v(!0,n,e)),i.template('<a class="#=className#" #=attr# href="\\#">#=text#</a>')(n)},view:function(e){return this.timeline.view(e)},range:function(e){var t=this.dataSource,n=this.view(),i=this.timeline;return e&&(n.options.range={start:e.start,end:e.end},i._render(t.taskTree()),i._renderDependencies(this.dependencies.view())),{start:n.start,end:n.end}},date:function(e){var t=this.view();return e&&(t.options.date=e,t._scrollToDate(e)),t.options.date},dataItem:function(e){if(!e)return null;var t=this.list,n=t.element.find(e);return t._modelFromElement(n)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.list.setDataSource(this.dataSource),this.options.autoBind&&e.fetch()},setDependenciesDataSource:function(e){this.options.dependencies=e,this._dependencies(),this.options.autoBind&&e.fetch()},items:function(){return this.wrapper.children(".k-task")},_updateAssignments:function(e,t){for(var n,i,s,r=this.assignments.dataSource,a=this.assignments.dataTaskIdField,o=this.assignments.dataResourceIdField,d=!1,l=new c(r.view()).filter({field:a,operator:"eq",value:e}).toArray();l.length;){n=l[0];for(var u=0,h=t.length;u<h;u++)if(i=t[u],n.get(o)===i.get("id")){s=t[u].get("value"),this._updateAssignment(n,s),t.splice(u,1),d=!0;break}d||this._removeAssignment(n),d=!1,l.shift()}for(var p=0,f=t.length;p<f;p++)i=t[p],this._createAssignment(i,e);r.sync()},cancelTask:function(){var e=this._editor;e.container&&e.close()},editTask:function(e){var t="string"==typeof e?this.dataSource.getByUid(e):e;if(t){var n=this.dataSource._createNewModel(t.toJSON());n.uid=t.uid,this.cancelTask(),this._editTask(n)}},_editTask:function(e){this._editor.editTask(e,this.options.editable.plannedTasks)},saveTask:function(e,t){var n=this._editor,i=n.container,s=n.editable;i&&s&&s.end()&&this._updateTask(e,t)},_updateTask:function(e,t){var n=this,i=n.resources.field;n.trigger("save",{task:e,values:t})?n.dataSource.hasChanges()&&(n.dataSource.cancelChanges(),n._preventRefresh=!1,n.refresh()):(t&&(n._preventRefresh=!0,n.dataSource.update(e,t),t[i]&&n._updateAssignments(e.get("id"),t[i])),n._syncDataSource())},_updateAssignment:function(e,t){var n=this.assignments.dataValueField;e.set(n,t)},removeTask:function(e){var t=this,n="string"==typeof e?this.dataSource.getByUid(e):e;n&&this._taskConfirm((function(e){e||t._removeTask(n)}),n)},_createTask:function(e,n){if(!this.trigger("add",{task:e,dependency:null})){var i=this.dataSource;this._preventRefresh=!0,n===t?i.add(e):i.insert(n,e),this._scrollToUid=e.uid,this._syncDataSource()}},_createDependency:function(e){this.trigger("add",{task:null,dependency:e})||(this._preventDependencyRefresh=!0,this.dependencies.add(e),this._preventDependencyRefresh=!1,this.dependencies.sync())},_createAssignment:function(e,t){var n=this.assignments,i=n.dataSource,s=n.dataTaskIdField,r=n.dataResourceIdField,a=n.dataValueField,o=i._createNewModel();o[s]=t,o[r]=e.get("id"),o[a]=e.get("value"),i.add(o)},removeDependency:function(e){var t=this,n="string"==typeof e?this.dependencies.getByUid(e):e;n&&this._dependencyConfirm((function(e){e||t._removeDependency(n)}),n)},_removeTaskDependencies:function(e,t){this._preventDependencyRefresh=!0;for(var n=0,i=t.length;n<i;n++)this.dependencies.remove(t[n]);this._preventDependencyRefresh=!1,this.dependencies.sync()},_removeTaskAssignments:function(e){var t=this.assignments.dataSource,n=t.view(),i={field:this.assignments.dataTaskIdField,operator:"eq",value:e.get("id")};n=new c(n).filter(i).toArray(),this._preventRefresh=!0;for(var s=0,r=n.length;s<r;s++)t.remove(n[s]);this._preventRefresh=!1,t.sync()},_removeTask:function(e){var t=this.dependencies.dependencies(e.id);this.trigger("remove",{task:e,dependencies:t})||(this._removeTaskDependencies(e,t),this._removeTaskAssignments(e),this._preventRefresh=!0,this.dataSource.remove(e)&&this._syncDataSource(),this._preventRefresh=!1)},_removeDependency:function(e){this.trigger("remove",{task:null,dependencies:[e]})||this.dependencies.remove(e)&&this.dependencies.sync()},_removeAssignment:function(e){this.assignments.dataSource.remove(e)},_taskConfirm:function(e,t){var n=this.options.messages;this._confirm(e,{model:t,text:n.deleteTaskConfirmation,title:n.deleteTaskWindowTitle})},_dependencyConfirm:function(e,t){var n=this.options.messages;this._confirm(e,{model:t,text:n.deleteDependencyConfirmation,title:n.deleteDependencyWindowTitle})},_confirm:function(e,t){var n,i,s=this.options.editable;!0===s||!1!==s.confirmation?(i=[{name:"delete",text:(n=this.options.messages).destroy,className:I.styles.primary,click:function(){e()}},{name:"cancel",text:n.cancel,click:function(){e(!0)}}],this.showDialog(v(!0,{},t,{buttons:i}))):e()},showDialog:function(e){this._editor.showDialog(e)},refresh:function(){if(!this._preventRefresh&&this.list&&!this.list.editor){this._progress(!1);var e,t,n=this.dataSource.taskTree(),s=this._scrollToUid,r=-1;this.current&&(t=this.current.closest("tr").attr(i.attr("uid")),r=this.current.index()),this.trigger("dataBinding")||(0!==this.resources.dataSource.data().length&&this._assignResources(n),this._editor&&this._editor.close(),this.clearSelection(),this.list._renderTree(n),this.timeline._render(n),this.timeline._renderDependencies(this.dependencies.view()),s&&(this._scrollTo(s),this.select(B(s))),(s||t)&&r>=0&&(e=this.list.element.find("tr"+B(s||t)+" > td:eq("+r+")"),this._current(e)),this._scrollToUid=null,this.trigger("dataBound"))}},refreshDependencies:function(){this._preventDependencyRefresh||this.trigger("dataBinding")||(this.timeline._renderDependencies(this.dependencies.view()),this.trigger("dataBound"))},_assignResources:function(e){for(var t=this.resources,n=this.assignments,s=(h=void 0,void 0,h=n.dataSource.view(),p={field:n.dataTaskIdField},h=new c(h).group(p).toArray()),r=function(e,n){var r=e.get("id");i.setter(t.field)(e,new l([]));for(var a=0,o=s.length;a<o;a++)s[a].value===r&&n(e,s[a].items)},a=function(e,s){for(var r=0,a=s.length;r<a;r++){var o=s[r],l=t.dataSource.get(o.get(n.dataResourceIdField)),c=o.get(n.dataValueField),u=o.get(n.dataResourceIdField),h=l.get(t.dataFormatField)||"p0",p=i.toString(c,h);e[t.field].push(new d({id:u,name:l.get(t.dataTextField),color:l.get(t.dataColorField),value:c,formatedValue:p}))}},o=0,u=e.length;o<u;o++)r(e[o],a);var h,p},_wrapResourceData:function(e){for(var t,n=this,i=[],s=this.resources.dataSource.view(),r=this.assignments.dataSource.view(),a=new c(r).filter({field:n.assignments.dataTaskIdField,operator:"eq",value:e}).toArray(),o=function(e){var t=null;return new c(a).filter({field:n.assignments.dataResourceIdField,operator:"eq",value:e}).select((function(e){t+=e.get(n.assignments.dataValueField)})),t},d=0,l=s.length;d<l;d++)t=s[d],i.push({id:t.get("id"),name:t.get(n.resources.dataTextField),format:t.get(n.resources.dataFormatField)||"p0",value:o(t.id)});return i},_syncDataSource:function(){this._preventRefresh=!1,this._requestStart(),this.dataSource.sync()},_requestStart:function(){this._progress(!0)},_error:function(){this._progress(!1)},_progress:function(e){i.ui.progress(this.element,e)},_resizable:function(){var t,n,s,r=this,a=this.wrapper,o=I.styles,d=S+o.gridContent,l=a.find(S+o.list),c=a.find(S+o.timeline);this._resizeDraggable=a.find(S+o.splitBar).height(l.height()).hover((function(){e(this).addClass(o.splitBarHover)}),(function(){e(this).removeClass(o.splitBarHover)})).end().kendoResizable({orientation:"horizontal",handle:S+o.splitBar,start:function(){t=l.width(),n=c.width(),s=i.scrollLeft(c.find(d))},resize:function(e){var o=e.x.initialDelta;i.support.isRtl(a)&&(o*=-1),t+o<0||n-o<0||(l.width(t+o),c.width(n-o),i.scrollLeft(c.find(d),s+o),r.timeline.view()._renderCurrentTime())}}).data("kendoResizable")},_scrollable:function(){var t=this,n=I.styles,s=S+n.gridContent,r=S+n.gridHeaderWrap,o=this.timeline.element.find(r),d=this.timeline.element.find(s),l=this.list.element.find(r),c=this.list.element.find(s);a&&c.css("overflow-y","auto"),d.on("scroll",(function(){t.scrollTop=this.scrollTop,i.scrollLeft(o,this.scrollLeft),c.scrollTop(this.scrollTop)})),c.on("scroll",(function(){i.scrollLeft(l,this.scrollLeft)})).on("DOMMouseScroll"+b+" mousewheel"+b,(function(t){var n=d.scrollTop(),s=i.wheelDeltaY(t);s&&(t.preventDefault(),e(t.currentTarget).one("wheel"+b,!1),d.scrollTop(n+-s))}))},_navigatable:function(){var t,n=this,r=this.options.navigatable,a=this.options.editable,o=I.styles,d=S+o.gridContent,l=S+o.gridHeaderWrap,c=this.list.element.find(l).find("table"),u=this.list.element.find(d).find("table"),h=i.support.isRtl(this.wrapper),p=this.timeline.element.find(S+o.gridContent),f=c.add(u),v=B(),g=!1,m=!0,w=function(e){var t=n.timeline.view()._timeSlots()[0].offsetWidth;i.scrollLeft(p,i.scrollLeft(p)+(e?-t:t))},_=function(e){var t=n.timeline.view()._rowHeight;p.scrollTop(p.scrollTop()+(e?-t:t))},y=function(e){var t=n.current.parent("tr"+B()),i=n.current.index(),s=t[e]("tr:visible").first();0!==n.select().length&&n.clearSelection(),0!==s.length?(n._current(s.children("td:eq("+i+")")),n._scrollTo(n.current)):n.current.is("td")&&"prevAll"==e?W(c):n.current.is("th")&&"nextAll"==e&&W(u)},D=function(e){var i=n.current[e]();0!==i.length&&(n._current(i),t=n.current.index())},T=function(e){var t=n.dataItem(n.current);t.summary&&t.expanded!==e&&t.set("expanded",e)},C=function(){var e=n.options.editable;if(e&&!1!==e.destroy&&!n.list.editor){var t=n.select(),s=i.attr("uid");t.length&&n.removeTask(t.attr(s))}};e(this.wrapper).on("mousedown"+b,"tr"+v+", div"+v+":not("+S+o.line+")",(function(t){var s,o=e(t.currentTarget),d=e(t.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon:not(.k-i-none),span.k-link,.k-input,.k-multiselect-wrap");t.ctrlKey||(r&&(s=o.is("tr")?e(t.target).closest("td"):n.list.content.find("tr"+B(o.attr(i.attr("uid")))+" > td:first"),n._current(s)),!r&&!a||d||(n._focusTimeout=setTimeout((function(){W(n.list.content.find("table"),!0)}),2)))})).on("keydown"+b,function(t){var n=t.keyCode,i=this,r=e(i._getToolbarItems()),a=r.index(i.toolbar.find(S+o.focused)[0]);-1===a&&e(t.target).closest(S+o.toolbar.views).length&&(a=r.index(i.toolbar.find(".k-gantt-views > .k-state-selected:visible, .k-views-dropdown:visible")[0]));var d=t.shiftKey?r[a-1]:r[a+1];if(n===s.F10)i.toolbar.find(".k-button:visible:first").addClass(o.focused).focus(),t.preventDefault();else if(n==s.TAB&&e(t.target).closest(S+o.toolbar.toolbar).length){if(i.toolbar.find(S+o.focused).removeClass(o.focused).blur(),d)return e(d).addClass(o.focused).focus(),void t.preventDefault();this.list.element.is(":visible")?this.list.element.find("table[role=treegrid]").focus():this.element.find(S+o.tasks)[0].focus(),t.preventDefault()}}.bind(this)),!0===r?f.on("focus"+b,(function(){var i=this===u.get(0)?"td":"th",s=n.select(),r=n.current||e(s.length?s:this).find(i+":eq("+(t||0)+")");n._current(r),e(n.toolbar.find(S+o.focused)).removeClass(o.focused)})).on("blur"+b,(function(){n._current(),this==c&&e(this).attr(k,-1)})).on("keydown"+b,(function(t){var i,r=t.keyCode;if(n.current)switch(i=n.current.is("td"),r){case s.RIGHT:t.preventDefault(),t.altKey?w():t.ctrlKey?T(h?g:m):D(h?"prev":"next");break;case s.LEFT:t.preventDefault(),t.altKey?w(!0):t.ctrlKey?T(h?m:g):D(h?"next":"prev");break;case s.UP:t.preventDefault(),t.altKey?_(!0):y("prevAll");break;case s.DOWN:t.preventDefault(),t.altKey?_():y("nextAll");break;case s.SPACEBAR:t.preventDefault(),i&&n.select(n.current.closest("tr"));break;case s.ENTER:t.preventDefault(),i?n.options.editable&&!1!==n.options.editable.update&&(n.list._startEditHandler(n.current),e(this).one("keyup",(function(e){e.stopPropagation()}))):n.current.children("a.k-link").click();break;case s.DELETE:i&&C();break;default:r>=49&&r<=57&&"input"!==t.target.tagName.toLowerCase()&&n.view(n.timeline._viewByIndex(r-49))}})):u.on("keydown"+b,(function(e){e.keyCode==s.DELETE&&C()}))},_getToolbarItems:function(){return this.toolbar.find("> .k-button:visible").toArray().concat(this.toolbar.find(".k-views-dropdown:visible").toArray(),this.toolbar.find(".k-gantt-views > .k-state-selected:visible").toArray())},_current:function(t){var n,s=I.styles;this.current&&this.current.length&&this.current.removeClass(s.focused).removeAttr("id"),t&&t.length?(this.current=t.addClass(s.focused).attr("id",T),(n=e(i._activeElement())).is("table")&&this.wrapper.find(n).length>0&&n.removeAttr(D).attr(D,T)):this.current=null},_dataBind:function(){var t=this;if(t.options.autoBind){this._preventRefresh=!0,this._preventDependencyRefresh=!0;var n=e.map([this.dataSource,this.dependencies,this.resources.dataSource,this.assignments.dataSource],(function(e){return e.fetch()}));e.when.apply(null,n).done((function(){t._preventRefresh=!1,t._preventDependencyRefresh=!1,t.refresh()}))}},_resize:function(){this._adjustDimensions(),this.timeline.view()._adjustHeight(),this.timeline.view()._renderCurrentTime(),this.list._adjustHeight()},_createPlannedTasksSwitch:function(){var t=this,n=t.options.messages.plannedTasks.switchText,s=e("<span class='k-gantt-planned-wrap'><label>"+n+"</label></span>"),r=new i.ui.Switch(e("<input id='planned-switch' class='k-gantt-planned-switch'>"),{checked:t.options.showPlannedTasks,change:f(t._togglePlannedTasks,t),messages:{checked:"",unchecked:""}});s.append(r.wrapper),t.toggeSwitchWrap=s,t.toggleSwitch=r},_togglePlannedTasks:function(e){var t=this.timeline;this.trigger("togglePlannedTasks",{showPlannedTasks:!t.options.showPlannedTasks})?e.preventDefault():(this.wrapper.toggleClass(H.plannedTasks),t._setPlanned(!t.options.showPlannedTasks),t._render(this.dataSource.taskTree()),t._renderDependencies(this.dependencies.view()))}});i.PDFMixin&&(i.PDFMixin.extend(I.fn),I.fn._drawPDF=function(){var e=I.styles,t=this.wrapper.find(S+e.list+" "+S+e.gridContent+">table").width(),n=this.wrapper.clone();return n.find(S+e.list).css("width",t),this._drawPDFShadow({content:n},{avoidLinks:this.options.pdf.avoidLinks})}),i.ui.plugin(I),v(!0,I,{styles:H})}(window.kendo.jQuery),window.kendo})?i.apply(t,s):i)||(e.exports=r)},1258:function(e,t){e.exports=n(6528)},1259:function(e,t){e.exports=n(7672)},1260:function(e,t){e.exports=n(7900)},1261:function(e,t){e.exports=n(1218)},1262:function(e,t){e.exports=n(1420)},1263:function(e,t){e.exports=n(7281)}})}}]);