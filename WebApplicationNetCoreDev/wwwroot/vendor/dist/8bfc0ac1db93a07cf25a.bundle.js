(self.webpackChunk_5_112_1332=self.webpackChunk_5_112_1332||[]).push([[2322],{9843:(e,t,i)=>{e.exports=function(e){var t={};function i(a){if(t[a])return t[a].exports;var n=t[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}return i.m=e,i.c=t,i.p="",i(0)}({0:function(e,t,i){e.exports=i(1232)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1232:function(e,t,i){var a,n,o;i(3),n=[i(1233),i(1234)],void 0===(o="function"==typeof(a=function(){})?a.apply(t,n):a)||(e.exports=o)},1233:function(e,t){e.exports=i(8631)},1234:function(e,t){e.exports=i(7647)}})},6299:(e,t,i)=>{e.exports=function(e){var t={};function i(a){if(t[a])return t[a].exports;var n=t[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}return i.m=e,i.c=t,i.p="",i(0)}({0:function(e,t,i){e.exports=i(1235)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1049:function(e,t){e.exports=i(1657)},1235:function(e,t,i){var a,n,o;i(3),n=[i(1049)],void 0===(o="function"==typeof(a=function(){return function(e,t){var i=window.kendo,a=i.ui.Widget,n=i.ui,o=i.keys,r=e.extend,s=".kendoExpansionPanel",l="expand",d="collapse",c="complete",p="k-state-disabled",u="aria-disabled",f="aria-expanded",h="aria-hidden",m="k-expanded",v="k-state-focused",g=e.proxy,w=a.extend({init:function(t,n){var o=this,r=i.attr("expander-header");a.fn.init.call(o,t,n),n=e.extend(!0,{},n),o._wrapper(),o._animations(n),o.element.attr(h,!n.expanded),o.options.useBareTemplate||o.element.addClass("k-expander-content"),o.wrapper.on("click"+s,"["+r+"]",g(o._click,o)).on("focus"+s,"["+r+"]",g(o._focus,o)).on("focusout"+s,"["+r+"]",g(o._blur,o)).on("keydown"+s,g(o._keydown,o)),o.toggle(o.options.expanded,!1),i.notify(o)},events:[l,d,c],options:{name:"ExpansionPanel",disabled:!1,expanded:!1,animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},height:null,toggleable:!0,expandIconClass:"k-icon k-i-arrow-chevron-down",collapseIconClass:"k-icon k-i-arrow-chevron-up",title:"",subTitle:"",headerClass:null,useBareTemplate:!1},_wrapper:function(){var t,a,n=this,o=n.element,r=o[0];t=o.wrap("<div class='k-widget k-expander"+(n.options.expanded?" "+m:"")+"'></div>").parent(),a=i.template('<div #if(!useBareTemplate){# class="k-expander-header" #}#  data-#=ns#expander-header role="button" tabindex="0">#if(!useBareTemplate){#<div class="k-expander-title">#:title#</div>#} else {##=title##}#<span class="k-expander-spacer"></span>#if(!useBareTemplate){#<div class="k-expander-sub-title">#:subTitle#</div>#}#<span class="k-expander-indicator #:iconClass#"></span></div>')({title:n.options.title,subTitle:n.options.subTitle,iconClass:n.options.expanded?n.options.expandIconClass:n.options.collapseIconClass,useBareTemplate:n.options.useBareTemplate,ns:i.ns}),n.header=e(a),t.prepend(n.header),n._indicator=t.find(".k-expander-indicator"),t[0].style.cssText=r.style.cssText,r.style.width="100%",n.wrapper=t.addClass(n.options.disabled?p:""),n.contentWrapper=n.element.wrap("<div></div>").parent().addClass("k-expander-content-wrapper"),n.header.attr(u,n.options.disabled).attr(f,n.options.expanded),n.options.useBareTemplate||t.addClass(r.className),n.options.height&&n.wrapper.css("height",n.options.height),n.options.headerClass&&n.header.addClass(n.options.headerClass)},_animations:function(e){e&&"animation"in e&&!e.animation&&(e.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}})},_click:function(e){var t=this,i=t._indicator.hasClass(t.options.collapseIconClass),a=t.element;t.options.toggleable?t.trigger(i?d:l,{item:a[0]})||t.toggle():e.preventDefault()},toggle:function(e,t){var i=this,a=i.options.animation,n=a.expand,o=a.collapse&&"effects"in a.collapse,s=r({},a.expand,a.collapse),l=i.element,d=i.wrapper;undefined!==e?!1===t&&(s=null):e=!i._indicator.hasClass(i.options.collapseIconClass),o||(s=r(s,{reverse:!0})),e?n=r({complete:g(i._completeHandler,i)},n):(n=r(s,{hide:!0})).complete=g(i._completeHandler,i),e?(i._indicator.removeClass(this.options.expandIconClass),i._indicator.addClass(this.options.collapseIconClass),d.addClass(m)):(i._indicator.removeClass(this.options.collapseIconClass),i._indicator.addClass(this.options.expandIconClass),d.removeClass(m)),l.attr(h,!e),i.header.attr(f,e),i.contentWrapper.kendoStop(!0,!0).kendoAnimate(n)},_completeHandler:function(){this.trigger(c)},_keydown:function(t){var i=t.keyCode;i!=o.ENTER&&i!=o.SPACEBAR||!e(t.target).is("[data-expander-header]")||(this._click(t),t.preventDefault())},destroy:function(){this.wrapper.off(s),a.fn.destroy.call(this)},enable:function(e){this.wrapper.toggleClass(p,!e),this.header.attr(u,!e)},_blur:function(){this.header&&this.header.removeClass(v)},_focus:function(){this.header&&this.header.addClass(v)}});n.plugin(w)}(window.kendo.jQuery),window.kendo})?a.apply(t,n):a)||(e.exports=o)}})},754:(e,t,i)=>{e.exports=function(e){var t={};function i(a){if(t[a])return t[a].exports;var n=t[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}return i.m=e,i.c=t,i.p="",i(0)}({0:function(e,t,i){e.exports=i(1236)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1054:function(e,t){e.exports=i(3696)},1236:function(e,t,i){var a,n,o;i(3),n=[i(1237),i(1054),i(1238),i(1239)],void 0===(o="function"==typeof(a=function(){return function(e,t){var i=window.kendo,a=i.ui.Widget,n=e.isPlainObject,o=e.proxy,r=e.extend,s=i.support.placeholder,l=i.isFunction,d=/(^\/|\/$)/g,c="change",p="apply",u="error",f="click",h=".kendoFileBrowser",m=".kendoSearchBox",v="name",g="size",w="type",_={field:w,dir:"asc"},b=i.template('<div class="k-listview-item k-listview-item-empty"><span class="k-file-preview"><span class="k-file-icon k-icon k-i-none"></span></span><span class="k-file-name">${text}</span></div>');function k(e,i){return e!==t&&e.match(/\/$/)||(e=(e||"")+"/"),e+i}function y(e){if(!e)return"";var t=" bytes";return e>=1073741824?(t=" GB",e/=1073741824):e>=1048576?(t=" MB",e/=1048576):e>=1024&&(t=" KB",e/=1024),Math.round(100*e)/100+t}r(!0,i.data,{schemas:{filebrowser:{data:function(e){return e.items||e||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}}),r(!0,i.data,{transports:{filebrowser:i.data.RemoteTransport.extend({init:function(t){i.data.RemoteTransport.fn.init.call(this,e.extend(!0,{},this.options,t))},_call:function(t,a){a.data=e.extend({},a.data,{path:this.options.path()}),l(this.options[t])?this.options[t].call(this,a):i.data.RemoteTransport.fn[t].call(this,a)},read:function(e){this._call("read",e)},create:function(e){this._call("create",e)},destroy:function(e){this._call("destroy",e)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});var x=a.extend({init:function(e,t){var i=this;t=t||{},a.fn.init.call(i,e,t),i.element.addClass("k-filebrowser"),i.element.on(f+h,".k-filebrowser-toolbar button:not(.k-state-disabled):has(.k-i-close)",o(i._deleteClick,i)).on(f+h,".k-filebrowser-toolbar button:not(.k-state-disabled):has(.k-i-folder-add)",o(i._addClick,i)).on("keydown"+h,".k-listview-item.k-state-selected input",o(i._directoryKeyDown,i)).on("blur"+h,".k-listview-item.k-state-selected input",o(i._directoryBlur,i)),i._dataSource(),i.refresh(),i.path(i.options.path)},options:{name:"FileBrowser",messages:{uploadFile:"Upload",orderBy:"Arrange by",orderByName:"Name",orderBySize:"Size",directoryNotFound:"A directory with this name was not found.",emptyFolder:"Empty Folder",deleteFile:'Are you sure you want to delete "{0}"?',invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',dropFilesHere:"drop file here to upload",search:"Search"},transport:{},path:"/",fileTypes:"*.*"},events:[u,c,p],destroy:function(){var e=this;a.fn.destroy.call(e),e.dataSource.unbind(u,e._errorHandler),e.element.add(e.list).add(e.toolbar).off(h),i.destroy(e.element)},value:function(){var e,t=this,a=t._selectedItem(),n=t.options.transport.fileUrl;if(a&&"f"===a.get(w))return e=k(t.path(),a.get(v)).replace(d,""),n&&(e=l(n)?n(e):i.format(n,encodeURIComponent(e))),e},_selectedItem:function(){var e=this.listView.select();if(e.length)return this.dataSource.getByUid(e.attr(i.attr("uid")))},_toolbar:function(){var t=this,a=i.template('<div class="k-widget k-filebrowser-toolbar k-toolbar k-floatwrap"># if (showCreate) { #<button type="button" class="k-button k-icon-button"><span class="k-icon k-i-folder-add"></span></button># } ## if (showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-i-plus"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div># } ## if (showDelete) { #<button type="button" class="k-button k-button-icon k-state-disabled"><span class="k-icon k-i-close"></span></button># } #<div class="k-tiles-arrange"><label>#=messages.orderBy#: <select></select></label></div><span class="k-toolbar-spacer"></span><input data-role="searchbox" /></div>'),n=t.options.messages,r=[{text:n.orderByName,value:"name"},{text:n.orderBySize,value:"size"}];t.toolbar=e(a({messages:n,showUpload:t.options.transport.uploadUrl,showCreate:t.options.transport.create,showDelete:t.options.transport.destroy})).appendTo(t.element).find(".k-upload input").kendoUpload({multiple:!1,localization:{dropFilesHere:n.dropFilesHere},async:{saveUrl:t.options.transport.uploadUrl,autoUpload:!0},upload:o(t._fileUpload,t),error:function(e){t._error({xhr:e.XMLHttpRequest,status:"error"})}}).end(),t.upload=t.toolbar.find(".k-upload input").data("kendoUpload"),t.arrangeBy=t.toolbar.find(".k-tiles-arrange select").kendoDropDownList({dataSource:r,dataTextField:"text",dataValueField:"value",change:function(){t.orderBy(this.value())}}).data("kendoDropDownList"),t.searchBox=t.toolbar.find("input[data-role='searchbox']").kendoSearchBox({label:t.options.messages.search,change:function(){t.search(this.value())}}).data("kendoSearchBox"),t._attachDropzoneEvents()},_attachDropzoneEvents:function(){var t,i,a,n,r,s=this;s.options.transport.uploadUrl&&(t=e(document.documentElement),i=e.proxy(s._dropEnter,s),a=e.proxy(s._dropLeave,s),t.on("dragenter"+h,(function(){i(),r=new Date,n||(n=setInterval((function(){new Date-r>100&&(a(),clearInterval(n),n=null)}),100))})).on("dragover"+h,(function(){r=new Date})),s._scrollHandler=o(s._positionDropzone,s))},_dropEnter:function(){this._positionDropzone(),e(document).on("scroll"+h,this._scrollHandler)},_dropLeave:function(){this._removeDropzone(),e(document).off("scroll"+h,this._scrollHandler)},_positionDropzone:function(){var e=this.element,t=e.offset();this.toolbar.find(".k-dropzone").addClass("k-filebrowser-dropzone").offset(t).css({width:e[0].clientWidth,height:e[0].clientHeight,lineHeight:e[0].clientHeight+"px"})},_removeDropzone:function(){this.toolbar.find(".k-dropzone").removeClass("k-filebrowser-dropzone").css({width:"",height:"",lineHeight:"",top:"",left:""})},_deleteClick:function(){var e=this,t=e.listView.select(),a=i.format(e.options.messages.deleteFile,t.find(".k-file-name").text());t.length&&e._showMessage(a,"confirm")&&e.listView.remove(t)},_addClick:function(){this.createDirectory()},_getFieldName:function(e){return function(e,t){var i=e[t];return n(i)?i.from||i.field||t:i}(this.dataSource.reader.model.fields,e)},_fileUpload:function(e){var t,a=this,n=a.options,o=n.fileTypes,r=new RegExp(("("+o.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),s=e.files[0].name,l=e.files[0].size,d=v,c=g;r.test(s)?(e.data={path:a.path()},(t=a._createFile(s,l))?a.upload.one("success",(function(e){var n=a._insertFileToList(t);n._override&&(n.set(d,e.response[a._getFieldName(d)]),n.set(c,e.response[a._getFieldName(c)]),a.listView.dataSource.pushUpdate(n)),a._tiles=a.listView.items().filter("["+i.attr("type")+"=f]")})):e.preventDefault()):(e.preventDefault(),a._showMessage(i.format(n.messages.invalidFileType,s,o)))},_findFile:function(e){var t,i,a,n=this.dataSource.data();for(e=e.toLowerCase(),t=0,a=n.length;t<a;t++)if("f"===n[t].get("type")&&n[t].get("name").toLowerCase()===e){i=n[t];break}return i},_createFile:function(e,t){var a=this,n={},o=a._findFile(e);return o?a._showMessage(i.format(a.options.messages.overwriteFile,e),"confirm")?(o._override=!0,o):null:(n.type="f",n.name=e,n.size=t,n)},_insertFileToList:function(e){var t;if(e._override)return e;for(var i=this.dataSource,a=i.view(),n=0,o=a.length;n<o;n++)if("f"===a[n].get(w)){t=n;break}return i.insert(++t,e)},createDirectory:function(){var e,t,a=this,n=0,o=w,r=v,s=a.dataSource.data(),l=a._nameDirectory(),d=new a.dataSource.reader.model;for(e=0,t=s.length;e<t;e++)"d"===s[e].get(o)&&(n=e);d.set(o,"d"),d.set(r,l),a.listView.one("dataBound",(function(){var e=a.listView.items().filter("["+i.attr("uid")+"="+d.uid+"]");e.length&&this.edit(e),this.element.scrollTop(e.attr("offsetTop")-this.element[0].offsetHeight),setTimeout((function(){a.listView.element.find(".k-edit-item input").select()}))})).one("save",(function(e){var t=e.model.get(r);t?e.model.set(r,a._nameExists(t,d.uid)?a._nameDirectory():t):e.model.set(r,l)})),a.dataSource.insert(++n,d)},_directoryKeyDown:function(e){13==e.keyCode&&e.currentTarget.blur()},_directoryBlur:function(){this.listView.save()},_nameExists:function(e,t){var i,a,n=this.dataSource.data();for(i=0,a=n.length;i<a;i++)if("d"===n[i].get("type")&&n[i].get("name").toLowerCase()===e.toLowerCase()&&n[i].uid!==t)return!0;return!1},_nameDirectory:function(){var t,i,a,n="New folder",o=this.dataSource.data(),r=[],s=v;for(i=0,a=o.length;i<a;i++)"d"===o[i].get("type")&&o[i].get(s).toLowerCase().indexOf(n.toLowerCase())>-1&&r.push(o[i].get(s));if(e.inArray(n,r)>-1){i=2;do{t=n+" ("+i+")",i++}while(e.inArray(t,r)>-1);n=t}return n},orderBy:function(e){this.dataSource.sort([{field:w,dir:"asc"},{field:e,dir:"asc"}])},search:function(e){this.dataSource.filter({field:v,operator:"contains",value:e})},_content:function(){var t=this;t.list=e('<div class="k-filemanager-listview" />').appendTo(t.element).on("dblclick"+h,".k-listview-item",o(t._dblClick,t)),t.listView=new i.ui.ListView(t.list,{layout:"flex",flex:{direction:"row",wrap:"wrap"},dataSource:t.dataSource,template:t._itemTmpl(),editTemplate:t._editTmpl(),selectable:!0,autoBind:!1,dataBinding:function(e){t.toolbar.find(".k-i-close").parent().addClass("k-state-disabled"),"remove"!==e.action&&"sync"!==e.action||(e.preventDefault(),i.ui.progress(t.listView.content,!1))},dataBound:function(){t.dataSource.view().length?t._tiles=this.items().filter("["+i.attr("type")+"=f]"):this.content.append(b({text:t.options.messages.emptyFolder}))},change:o(t._listViewChange,t)})},_dblClick:function(t){var a=this,n=e(t.currentTarget);if(n.hasClass("k-edit-item")&&a._directoryBlur(),n.filter("["+i.attr("type")+"=d]").length){var o=a.dataSource.getByUid(n.attr(i.attr("uid")));o&&(a.path(k(a.path(),o.get(v))),a.breadcrumbs.value("/"+a.path()))}else n.filter("["+i.attr("type")+"=f]").length&&a.trigger(p)},_listViewChange:function(){var e=this._selectedItem();e&&(this.toolbar.find(".k-i-close").parent().removeClass("k-state-disabled"),this.trigger(c,{selected:e}))},_dataSource:function(){var e=this,t=e.options,a=t.transport,s=r({},_),l={field:v,dir:"asc"},d={type:a.type||"filebrowser",sort:[s,l]};n(a)&&(a.path=o(e.path,e),d.transport=a),n(t.schema)?d.schema=t.schema:a.type&&n(i.data.schemas[a.type])&&i.data.schemas[a.type],e.dataSource&&e._errorHandler?e.dataSource.unbind(u,e._errorHandler):e._errorHandler=o(e._error,e),e.dataSource=i.data.DataSource.create(d).bind(u,e._errorHandler)},_navigation:function(){var t=this,i=e('<div class="k-floatwrap"><nav></nav></div>').appendTo(this.element);t.breadcrumbs=i.find("nav:first").kendoBreadcrumb({editable:!0,gap:50,value:t.options.path||"/",change:function(){t.path(this.value())}}).data("kendoBreadcrumb")},_error:function(e){var t,i=this;if(!i.trigger(u,e)){t=e.xhr.status,"error"==e.status?"404"==t?i._showMessage(i.options.messages.directoryNotFound):"0"!=t&&i._showMessage("Error! The requested URL returned "+t+" - "+e.xhr.statusText):"timeout"==t&&i._showMessage("Error! Server timeout.");var a=i.dataSource;a.hasChanges()&&a.cancelChanges()}},_showMessage:function(e,t){return window[t||"alert"](e)},refresh:function(){var e=this;e._navigation(),e._toolbar(),e._content()},_editTmpl:function(){var e='<div class="k-listview-item k-state-selected" '+i.attr("uid")+'="#=uid#" ';return e+=i.attr("type")+'="${'+'type}">',e+='#if(type == "d") { #',e+='<div class="k-file-preview"><span class="k-file-icon k-icon k-i-folder"></span></div>',e+="#}else{#",e+='<div class="k-file-preview"><span class="k-file-icon k-icon k-i-loading"></span></div>',e+="#}#",e+='#if(type == "d") { #',e+='<span class="k-file-name"><input class="k-textbox" '+i.attr("bind")+'="value:'+'name"/></span>',e+="#}#",e+="</div>",o(i.template(e),{sizeFormatter:y})},_itemTmpl:function(){var e='<div class="k-listview-item" '+i.attr("uid")+'="#=uid#" ';return e+=i.attr("type")+'="${'+'type}">',e+='#if(type == "d") { #',e+='<div class="k-file-preview"><span class="k-file-icon k-icon k-i-folder"></span></div>',e+="#}else{#",e+='<div class="k-file-preview"><span class="k-file-icon k-icon k-i-file"></span></div>',e+="#}#",e+='<span class="k-file-name">${name}</span>',e+='#if(type == "f") { # <span class="k-file-size">${this.sizeFormatter(size)}</span> #}#',e+="</div>",o(i.template(e),{sizeFormatter:y})},path:function(e){var i=this,a=i._path||"";return e!==t?(i._path=e.replace(d,"")+"/",void i.dataSource.read({path:i._path})):(a&&(a=a.replace(d,"")),"/"===a||""===a?"":a+"/")}}),C=a.extend({init:function(e,t){var i=this;t=t||{},a.fn.init.call(i,e,t),s&&i.element.attr("placeholder",i.options.label),i._wrapper(),i.element.on("keydown"+m,o(i._keydown,i)).on("change"+m,o(i._updateValue,i)),i.wrapper.on(f+m,"a",o(i._click,i)),s||i.element.on("focus"+m,o(i._focus,i)).on("blur"+m,o(i._blur,i))},options:{name:"SearchBox",label:"Search",value:""},events:[c],destroy:function(){var e=this;e.wrapper.add(e.element).add(e.label).off(m),a.fn.destroy.call(e)},_keydown:function(e){13===e.keyCode&&this._updateValue()},_click:function(e){e.preventDefault(),this._updateValue()},_updateValue:function(){var e=this,t=e.element.val();t!==e.value()&&(e.value(t),e.trigger(c))},_blur:function(){this._updateValue(),this._toggleLabel()},_toggleLabel:function(){s||this.label.toggle(!this.element.val())},_focus:function(){this.label.hide()},_wrapper:function(){var t=this.element,i=t.parents(".k-search-wrap");t[0].style.width="",t.addClass("k-input"),i.length||(i=t.wrap(e('<div class="k-widget k-search-wrap k-textbox"/>')).parent(),s||e('<label style="display:block">'+this.options.label+"</label>").insertBefore(t),e('<a href="#" class="k-icon k-i-zoom k-search"/>').appendTo(i)),this.wrapper=i,this.label=i.find(">label")},value:function(e){var i=this;return e!==t?(i.options.value=e,i.element.val(e),void i._toggleLabel()):i.options.value}});i.ui.plugin(x),i.ui.plugin(C)}(window.kendo.jQuery),window.kendo})?a.apply(t,n):a)||(e.exports=o)},1237:function(e,t){e.exports=i(1693)},1238:function(e,t){e.exports=i(667)},1239:function(e,t){e.exports=i(6569)}})},6627:(e,t,i)=>{e.exports=function(e){var t={};function i(a){if(t[a])return t[a].exports;var n=t[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}return i.m=e,i.c=t,i.p="",i(0)}({0:function(e,t,i){e.exports=i(1240)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1194:function(e,t){e.exports=i(1717)},1238:function(e,t){e.exports=i(667)},1239:function(e,t){e.exports=i(6569)},1240:function(e,t,i){var a,n,o;i(3),n=[i(1245),i(1242),i(1243),i(1244),i(1241),i(1239),i(1238),i(1246),i(1194)],void 0===(o="function"==typeof(a=function(){return e=window.kendo.jQuery,t=kendo.ui,i=e.extend,a=e.isPlainObject,n=e.isArray,o=t.DataBoundWidget,r=e.proxy,s=kendo.template,l=kendo._outerHeight,d="navigate",c="select",p="open",u="error",f="change",h="close",m="dataBinding",v="dataBound",g="drop",w="execute",_="command",b="keydownAction",k=".",y={wrapper:"k-widget k-filemanager",header:"k-filemanager-header",navigation:"k-filemanager-navigation",contentContainer:"k-filemanager-content-container",content:"k-filemanager-content",preview:"k-filemanager-preview",toolbar:"k-filemanager-toolbar",treeview:"k-filemanager-treeview",breadcrumb:"k-filemanager-breadcrumb",view:"k-filemanager-view",grid:"k-filemanager-grid",list:"k-filemanager-listview",upload:"k-filemanager-upload",uploadDialog:"k-filemanager-upload-dialog",splitBar:"k-splitbar",splitBarHorizontal:"k-splitbar-horizontal k-splitbar-draggable-horizontal",splitBarHover:"k-splitbar-horizontal-hover",splitBarIcon:"k-icon k-resize-handle",splitBarNavigation:"k-filemanager-splitbar-navigation",splitBarPreview:"k-filemanager-splitbar-preview",resizable:"k-filemanager-resizable"},x={filePreview:"k-file-preview",fileInfo:"k-file-info",fileName:"k-file-name",fileMeta:"k-file-meta",metaLabel:"k-file-meta-label",metaValue:"k-file-meta-value",extension:"k-file-type",size:"k-file-size",created:"k-file-created",modified:"k-file-modified"},C=o.extend({init:function(e,i){var a=this;o.fn.init.call(a,e,i),a.options=kendo.deepExtend({},a.options,i),a.defaultSortOption={field:"name",dir:"asc"},a.folderSortOption={field:"isDirectory",dir:"desc"},a._commandStack=new t.filemanager.CommandStack,a._dataSource(),a._wrapper(),a._renderHeader(),a._renderContentContainer(),a._initContextMenu(),a._renderNavigation(),a._renderContent(),a._renderPreview(),a._initUploadDialog(),a._resizable(),a.resize(),kendo.notify(a,kendo.ui)},options:{name:"FileManager",height:500,resizable:!0,initialView:"list",toolbar:{resizable:!0},contextMenu:{},upload:{},uploadUrl:"",views:{},breadcrumb:{},draggable:!0,dialogs:{upload:{width:530},moveConfirm:{width:350,closable:!0},deleteConfirm:{width:360,closable:!0},renamePrompt:{width:350,closable:!0}},previewPane:{metaFields:["extension","size","created","modified"],noFileTemplate:'<div class="#:styles.fileInfo#"><div class="#:styles.filePreview#"><span class="k-file-icon k-icon k-i-none"></span></div><span class="#:styles.fileName#" k-no-file-selected>#: messages.noFileSelected #</span></div>',singleFileTemplate:'<div class="#:styles.fileInfo#"><div class="#:styles.filePreview#"><span class="k-file-icon k-icon k-i-#: !selection[0].isDirectory ? kendo.getFileGroup(selection[0].extension, true) : "folder" #"></span></div><span class="#:styles.fileName#">#:selection[0].name#</span>#if(metaFields){#<dl class="#:styles.fileMeta#">#for(var i = 0; i < metaFields.length; i+=1){##var field = metaFields[i]#<dt class="#:styles.metaLabel#">#:messages[field]#: </dt><dd class="#:styles.metaValue# #:styles[field]#">#if(field == "size"){# #:kendo.getFileSizeMessage(selection[0][field])##} else if(selection[0][field] instanceof Date) {# #:kendo.toString(selection[0][field], "G")##} else if(field == "extension") {# #: !selection[0].isDirectory ? kendo.getFileGroup(selection[0].extension) : "folder"##} else {# #:selection[0][field]##}#</dd><dd class="k-line-break"></dd># } #</dl>#}#</div>',multipleFilesTemplate:'<div class="#:styles.fileInfo#"><div class="#:styles.filePreview#"><span class="k-file-icon k-icon k-i-file"></span></div><span class="#:styles.fileName#">#:selection.length# #:messages.items#</span></div>'},messages:{toolbar:{createFolder:"New Folder",upload:"Upload",sortDirection:"Sort Direction",sortDirectionAsc:"Sort Direction Ascending",sortDirectionDesc:"Sort Direction Descending",sortField:"Sort By",nameField:"Name",sizeField:"File Size",typeField:"Type",dateModifiedField:"Date Modified",dateCreatedField:"Date Created",listView:"List View",gridView:"Grid View",search:"Search",details:"View Details",detailsChecked:"On",detailsUnchecked:"Off",delete:"Delete",rename:"Rename"},views:{nameField:"Name",sizeField:"File Size",typeField:"Type",dateModifiedField:"Date Modified",dateCreatedField:"Date Created",items:"items"},dialogs:{upload:{title:"Upload Files",clear:"Clear List",done:"Done"},moveConfirm:{title:"Confirm",content:"<p style='text-align: center;'>Do you want to move or copy?</p>",okText:"Copy",cancel:"Move",close:"close"},deleteConfirm:{title:"Confirm",content:"<p style='text-align: center;'>Are you sure you want to delete the selected file(s)?</br>You cannot undo this action.</p>",okText:"Delete",cancel:"Cancel",close:"close"},renamePrompt:{title:"Prompt",content:"<p style='text-align: center;'>Enter new name for the file.</p>",okText:"Rename",cancel:"Cancel",close:"close"}},previewPane:{noFileSelected:"No File Selected",extension:"Type",size:"Size",created:"Date Created",createdUtc:"Date Created UTC",modified:"Date Modified",modifiedUtc:"Date Modified UTC",items:"items"}}},events:[d,c,p,m,v,u,g,w,_],_dataSource:function(){var e,t=this,o=t.options.dataSource||{},s=t.folderSortOption,l=t.defaultSortOption;o instanceof kendo.data.FileManagerDataSource?e=o:(e=n(o)?{data:o,autoSync:!1,sort:[s,l]}:i(!0,o,{autoSync:!1,sort:[s,l]}),o&&a(o.schema)?e.schema=o.schema:a(kendo.data.schemas.filemanager)&&(e.schema=kendo.data.schemas.filemanager)),t.dataSource&&t._errorHandler?(t.dataSource.unbind(u,t._errorHandler),t.dataSource.unbind(f,t._changeHandler)):(t._errorHandler=r(t._error,t),t._changeHandler=r(t._change,t)),t.dataSource=kendo.data.FileManagerDataSource.create(e).bind(u,t._errorHandler).bind(f,t._changeHandler)},_error:function(e){this.trigger(u,e)||window.console.warn("Error! The requested URL returned "+e.xhr.status+" - "+e.xhr.statusText)},_wrapper:function(){var e=this,t=e.options,i=t.width,a=t.height;e.wrapper=e.element.addClass(y.wrapper),i&&e.wrapper.width(i),a&&e.wrapper.height(a),e._resizeHandler=kendo.onResize((function(){e.resize(!0)}))},_renderHeader:function(){var t=this;t.options.toolbar&&(t.header=e("<div />").addClass(y.header),t.header.append(t._initToolbar().element)),t.wrapper.append(t.header)},_renderContentContainer:function(){var t=this,i=e("<div />").addClass(y.contentContainer);t.contentContainer=i,t.wrapper.append(t.contentContainer)},_initContextMenu:function(){var e=this,a=e.options,n=i({},a.contextMenu,{filemanager:e,messages:a.messages.toolbar,target:e.contentContainer,filter:"[data-uid]",action:e.executeCommand.bind(e),isLocalBinding:e.dataSource.isLocalBinding});!1!==a.contextMenu&&(e.contextMenu=new t.filemanager.ContextMenu("<ul></ul>",n),e.contextMenu.bind(p,r(e._cacheFocus,e)))},_renderNavigation:function(){var t=this;t.navigation=e("<div />").addClass(y.navigation),t.navigation.append(t._initTreeView().element),t.contentContainer.append(t.navigation)},_renderContent:function(){var t=this,i=t.options,a=t.toolbar;t.content=e("<div />").addClass(y.content),i.breadcrumb&&t.content.append(t._initBreadcrumb().element),t.content.append(t._initView()),a&&a.isToolEnabled(a.defaultTools.upload.name)||t.content.append(t._initUpload().wrapper.hide()),t.contentContainer.append(t.content)},_renderPreview:function(){var t=this;t.options.previewPane&&(t.preview=e("<div />").addClass(y.preview),t.previewContainer=e("<div />").addClass(y.previewContainer),t.preview.append(t.previewContainer),t._setPreviewPaneContent(),t.contentContainer.append(t.preview.hide()))},_setPreviewPaneContent:function(){var e,t=this,i=t.options,a=i.messages.previewPane,n=i.previewPane,o=t.getSelected();if(!o)return e=s(n.noFileTemplate)({styles:x,messages:a}),void t.previewContainer.html(e);e=1===o.length?n.singleFileTemplate:n.multipleFilesTemplate,e=s(e)({styles:x,messages:a,selection:o,metaFields:n.metaFields}),t.previewContainer.html(e)},_initToolbar:function(){var a=this,n=a.options,o=e("<div />").addClass(y.toolbar),r=i({},n.toolbar,{filemanager:this,messages:n.messages.toolbar,action:a.executeCommand.bind(a)});return a.toolbar=new t.filemanager.ToolBar(o,r),a.toolbar},_initTreeView:function(){var a=this,n=e("<div />").addClass(y.treeview),o=a.options.views.tree,s=i(!0,{},{dataSource:a.options.dataSource,messages:a.options.messages.views,draggable:a.options.draggable,isLocalBinding:a.dataSource.isLocalBinding});return a.treeView=new t.filemanager.ViewComponents.tree(n,o,s),a.treeView.bind(d,r(a._navigate,a)).bind("load",r(a._load,a)).bind(g,r(a._drop,a)).bind(b,r(a._keydownAction,a)),a.treeView},_drop:function(e){var t=this;!t.trigger(g,e)&&e.items.indexOf(e.target)<0&&t._confirm({type:"move",target:e.target}).done((function(){t.executeCommand({command:"CopyCommand",options:e})})).fail((function(){t.executeCommand({command:"MoveCommand",options:e})}))},_keydownAction:function(e){var t=e.keyCode,i=kendo.keys;t===i.DELETE&&this.executeCommand({command:"DeleteCommand",options:{target:e.target}}),t===i.F2&&this.executeCommand({command:"RenameCommand",options:{target:e.target}})},_confirm:function(t){var a=this,n=a.options.messages.dialogs[t.type+"Confirm"],o=e("<div></div>").kendoConfirm(i({},{title:n.title,content:n.content,messages:n},a.options.dialogs[t.type+"Confirm"])).data("kendoConfirm");return o.bind(p,r(a._cacheFocus,a)),o.bind("hide",r(a._restoreFocus,a,t.target)),o.open(),o.wrapper.removeClass("k-confirm"),o.result},_prompt:function(t){var a=this,n=this.options.messages.dialogs[t.type+"Prompt"],o=e("<div></div>").kendoPrompt(i({},{title:n.title,content:n.content,messages:n,value:t.defaultInput},this.options.dialogs[t.type+"Prompt"])).data("kendoPrompt");return o.bind(p,r(a._cacheFocus,a)),o.bind(h,r(a._restoreFocus,a,t.target)),o.open(),o.wrapper.removeClass("k-prompt"),o.result},_cacheFocus:function(){var t=this,i=e(document.activeElement),a=t.view(),n=t.treeView.widgetComponent;if(!t.contextMenu||!t.contextMenu.popup.visible()){if(t.treeView._shouldFocus=!1,n.current()&&n.current().find(".k-state-focused").length||i.hasClass(y.treeview))return t.treeView._shouldFocus=!0,void(a._focusElement=i);a._focusElement=i.hasClass(y[t._viewType])?i:null}},_restoreFocus:function(e){var t=this.view();e&&(t._focusElement?t._focusElement.focus():e.closest&&e.closest(":kendoFocusable").length&&e.closest(":kendoFocusable").focus())},_initView:function(){var t=this,i=e("<div />").addClass(y.view),a=t.options.initialView;return t.viewWrapper=i,t.viewWrapper.append(t.view(a)),i},_initBreadcrumb:function(){var a=this,n=a.options,o=e("<nav />").addClass(y.breadcrumb),s=i({},{items:[{type:"rootitem",text:""}],change:r(a._breadcrumbChange,a)},n.breadcrumb);return a.breadcrumb=new t.Breadcrumb(o,s),a.breadcrumb},_breadcrumbChange:function(e){this._navigate({path:e.value})},_initUploadDialog:function(){var a,n=this,o=n.options,s=o.messages.dialogs.upload,l=e("<div />"),d=i({},{title:s.title,modal:!0,visible:!1,width:500,actions:[{text:s.clear,action:r(n._clearUploadFilesList,n)},{text:s.done,primary:!0}],messages:s},o.dialogs.upload);if(n._shouldInitUpload())return a=n._initUpload(),n.uploadDialog=new t.Dialog(l,d),n.uploadDialog.wrapper.addClass(y.uploadDialog),n.uploadDialog.element.append(a.wrapper),n.uploadDialog.bind(p,r(n._toggleUploadDropZone,n,"")),n.uploadDialog.bind(h,r(n._toggleUploadDropZone,n,n.viewWrapper)),n.uploadDialog},_shouldInitUpload:function(){var e=this.options,t=!1;return(e.uploadUrl||e.upload.async&&e.upload.async.saveUrl)&&!1!==e.upload&&(t=!0),t},_initUpload:function(){var a=this,n=a.options,o=e("<input type='file' name='file'/>").addClass(y.upload),s=i(!0,{async:{autoUpload:!0,saveUrl:n.uploadUrl},dropZone:a.viewWrapper},n.upload);return a.upload=new t.Upload(o[0],s),a.upload.bind("upload",r(a._sendUploadPathParameter,a)),a.upload.bind("success",r(a._success,a)),a.upload},_sendUploadPathParameter:function(e){e.data=i(e.data,{path:this.path()})},_success:function(){this._view.widgetComponent.dataSource.read()},_clearUploadFilesList:function(){var e=this.upload;e&&e.clearAllFiles()},_toggleUploadDropZone:function(e){var t=this.upload;t&&t.setOptions({dropZone:e})},_binding:function(e){this.trigger(m,{source:"view",action:e.action,items:e.items,index:e.index})&&e.preventDefault()},_bound:function(){this.options.previewPane&&this._setPreviewPaneContent(),this.trigger(v)},_createResizableSplitBar:function(t){var i=e("<div />").addClass(y.splitBar).addClass(y.splitBarHorizontal).addClass(t),a=e("<span />").addClass(y.splitBarIcon);return i.append(a),i.hover((function(){e(this).toggleClass(y.splitBarHover)})),i},_initResizableNavigation:function(){var e,t,i=this,a=i.wrapper,n=i._createResizableSplitBar(y.splitBarNavigation),o=a.find(k+y.content),r=a.find(k+y.navigation);n.insertAfter(r),i._resizeDraggable.navigation=i.wrapper.find(n).end().kendoResizable({handle:k+y.splitBarNavigation,start:function(){e=o.width(),t=r.width()},resize:function(i){var n=i.x.initialDelta;kendo.support.isRtl(a)&&(n*=-1),t+n<-2||e-n<-2||r.width(t+n)}}).getKendoResizable()},_initResizablePreview:function(){var e,t,i=this,a=i.wrapper,n=i._createResizableSplitBar(y.splitBarPreview),o=a.find(k+y.content),r=a.find(k+y.preview);i.options.previewPane&&(n.insertBefore(r).hide(),i._resizeDraggable.preview=a.find(n).end().kendoResizable({handle:k+y.splitBarPreview,start:function(){e=o.width(),t=r.width()},resize:function(i){var n=i.x.initialDelta;kendo.support.isRtl(a)&&(n*=-1),t-n<-2||e+n<-2||r.width(t-n)}}).getKendoResizable())},_resizable:function(){var e=this,t=e.options;e._resizeDraggable={},t.resizable&&(e.wrapper.addClass(y.resizable),e._initResizableNavigation(),e._initResizablePreview())},view:function(a){var n=this,o=e("<div></div>"),s=n.options.views[a],l=i(!0,{},{dataSource:n._viewDataSource||n.dataSource,messages:n.options.messages.views,draggable:n.options.draggable});if(void 0===a)return n._view;if(!t.filemanager.ViewComponents[a])throw new Error(kendo.format("There is no {0} ViewComponent registered!",a));n._view&&n._view.destroy&&(n._view.destroy(),n.viewWrapper.empty()),n._viewType=a,n._view=new t.filemanager.ViewComponents[a](o,s,l),n._view.bind(c,r(n._select,n)),n._view.bind(p,r(n._open,n)),n._view.bind(m,r(n._binding,n)),n._view.bind(v,r(n._bound,n)),n._view.bind(g,r(n._drop,n)),n._view.bind(b,r(n._keydownAction,n)),n._view.bind("cancel",r(n._cancel,n)),n._view.element.addClass(y[a]),n.viewWrapper.removeClass(Object.keys(t.filemanager.ViewComponents).map((function(e){return y.view+"-"+e})).join(" ")).addClass(y.view+"-"+a),n.viewWrapper.append(n._view.element)},executeCommand:function(e){var n=e.command,o=i({filemanager:this},a(e.options)?e.options:{value:e.options}),r=new t.filemanager.commands[n](o);if(!this.trigger(w,e))return r.exec()},_navigate:function(e){var t=e.path;this.trigger(d,{path:t})||this.navigate(t)},_load:function(e){this.dataSource.get(e.entryId).load()},_select:function(e){this.options.previewPane&&this._setPreviewPaneContent(),this.trigger(c,{entries:e.entries})},_open:function(e){var t=e.entry;this.trigger(p,{entry:t}),t.isDirectory&&this._navigate({path:t.id})},_cancel:function(){var e=this._commandStack,t=e.next();e.reject(t),this.trigger(_,{status:"cancel",action:"itemchange",data:t.data})},_change:function(e){var t=this,i=t._commandStack,a=e.node?e.node.children:t.dataSource;if(!t.trigger(m,{source:"tree",action:e.action,items:e.items,index:e.index})){if(t.treeView._refreshDataSource(e),"remove"===e.action||"itemchange"===e.action||"add"===e.action)if(i.empty())a.sync();else{var n=i.next();a.sync().then((function(a){i.resolve(n),t.trigger(_,{status:"success",action:e.action,data:n.data,response:a})})).fail((function(a){i.reject(n),t.trigger(_,{status:"fail",action:e.action,data:n.data,response:a})}))}"remove"===e.action&&t._viewDataSource&&t._viewDataSource.parent()&&e.items[0]===t._viewDataSource.parent()&&t._navigateToParent(e.items[0]),"itemchange"==e.action&&t._viewDataSource&&t._viewDataSource.parent()&&t.path().indexOf(e.items[0].id)>=0&&t._navigateToParent(e.items[0]),"itemchange"===e.action&&e.items[0].loaded(!1)}},_navigateToParent:function(e){var t=e.parentNode(),i=t?t.id:"";this._navigate({path:i})},_buildBreadcrumbPath:function(e){for(var t=this.breadcrumb,i=[];e;)i.push(e.name),e=e.parentNode&&e.parentNode();i.push(""),t.value(i.reverse().join("/"))},_adjustDimensions:function(){var e=this,t=e.wrapper,i=k+y.grid,a=k+y.list,n=k+y.contentContainer,o=t.height(),r=0,s=0;e.toolbar&&(r=l(e.toolbar.wrapper)),e.breadcrumb&&(s=l(e.breadcrumb.wrapper)),"auto"!==e.options.height&&(t.find([i].join(",")).height(o-(r+s+1)),t.find(a).parent().height(o-(r+s+1)),t.find(n).height(o-r))},_resize:function(){this._adjustDimensions(),kendo.resize(this.element.children())},setDataSource:function(e){var t=this;t.options.dataSource=e,t._dataSource(),t.toolbar&&(t.toolbar.destroy(),t.header.empty(),t.header.append(t._initToolbar().element)),t.treeView&&(t.treeView.destroy(),t.navigation.empty(),t.navigation.append(t._initTreeView().element)),t._view&&t.view(t._viewType||t.options.initialView),t._initContextMenu()},refresh:function(){(this._viewDataSource||this.dataSource).read()},getSize:function(){return kendo.dimensions(this.wrapper)},getSelected:function(){var e=this,t=e._view.getSelected(),i=e.treeView;if(t&&t.length)return t;var a=i.getSelected();return a?[e.dataSource.get(a.id)]:void 0},path:function(){return this._path||""},navigate:function(t){var i=this,a=i.dataSource,n=a.get(t.replace(/^\//,"")),o=i._view,r=i.treeView,s=i.breadcrumb,l=""===t||"/"===t;if(n||l){if(i._path=t,!i.trigger(m,{source:"navigation",action:"rebind",items:[n]})){if(s&&i._buildBreadcrumbPath(n),l)return a.sort([i.folderSortOption,i.defaultSortOption]),i._viewDataSource=a,o.refresh(i._viewDataSource),r.treeView.select(e()),void(i.options.previewPane&&i._setPreviewPaneContent());n.loaded&&!n.loaded()&&n.load(),o&&(i._viewDataSource=n.children,i._viewDataSource._sort=[i.folderSortOption,i.defaultSortOption],o.refresh(i._viewDataSource)),r&&r.refresh(n.id),i.options.previewPane&&i._setPreviewPaneContent()}}else window.console.warn("Error! Could not navigate to the folder at the requested path("+t+"). Make sure that the parent folder of the target folder has already been loaded.")},items:function(){return this.treeView.widgetComponent.items().add(this._view.widgetComponent.items())},destroy:function(){var e=this;o.fn.destroy.call(e),e.dataSource.unbind(u,e._errorHandler).unbind(f,e._changeHandler),e._resizeDraggable.navigation&&(e._resizeDraggable.navigation.destroy(),e._resizeDraggable.navigation=null),e._resizeDraggable.preview&&(e._resizeDraggable.preview.destroy(),e._resizeDraggable.preview=null),e.uploadDialog&&(e.uploadDialog.destroy(),e.uploadDialog=null),e.upload&&(e.upload.destroy(),e.upload=null),e.contextMenu&&(e.contextMenu.destroy(),e.contextMenu=null),kendo.unbindResize(e._resizeHandler),e.dataSource=null,e._viewDataSource=null,kendo.destroy(e.element)}}),t.plugin(C),window.kendo;var e,t,i,a,n,o,r,s,l,d,c,p,u,f,h,m,v,g,w,_,b,k,y,x,C})?a.apply(t,n):a)||(e.exports=o)},1241:function(e,t){e.exports=i(6509)},1242:function(e,t){e.exports=i(5339)},1243:function(e,t){e.exports=i(9343)},1244:function(e,t){e.exports=i(900)},1245:function(e,t){e.exports=i(545)},1246:function(e,t){e.exports=i(2116)}})}}]);