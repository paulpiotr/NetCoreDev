(self.webpackChunk_5_112_1332=self.webpackChunk_5_112_1332||[]).push([[1794],{8812:(t,e,i)=>{t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}return i.m=t,i.c=e,i.p="",i(0)}({0:function(t,e,i){t.exports=i(889)},3:function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},889:function(t,e,i){var n,s,r;i(3),s=[i(890)],void 0===(r="function"==typeof(n=function(){var t,e,i,n;t=window.kendo.jQuery,i=(e=kendo.dataviz).services,n=kendo.drawing,e.SASS_THEMES=["sass","default-v2","bootstrap-v4","material-v2"],e.ExportMixin={extend:function(t,e){if(!t.exportVisual)throw new Error("Mixin target has no exportVisual method defined.");t.exportSVG=this.exportSVG,t.exportImage=this.exportImage,t.exportPDF=this.exportPDF,e||(t.svg=this.svg,t.imageDataURL=this.imageDataURL)},exportSVG:function(t){return n.exportSVG(this.exportVisual(),t)},exportImage:function(t){return n.exportImage(this.exportVisual(t),t)},exportPDF:function(t){return n.exportPDF(this.exportVisual(),t)},svg:function(){if(n.svg.Surface)return n.svg.exportGroup(this.exportVisual());throw new Error("SVG Export failed. Unable to export instantiate kendo.drawing.svg.Surface")},imageDataURL:function(){if(!kendo.support.canvas)return null;if(n.canvas.Surface){var e=t("<div />").css({display:"none",width:this.element.width(),height:this.element.height()}).appendTo(document.body),i=new n.canvas.Surface(e[0]);i.draw(this.exportVisual());var s=i._rootElement.toDataURL();return i.destroy(),e.remove(),s}throw new Error("Image Export failed. Unable to export instantiate kendo.drawing.canvas.Surface")}},i.IntlService.register({format:function(t){return kendo.format.apply(null,[t].concat(Array.prototype.slice.call(arguments,1)))},toString:kendo.toString,parseDate:kendo.parseDate,firstDay:function(){return kendo.culture().calendars.standard.firstDay}}),i.TemplateService.register({compile:kendo.template}),e.Point2D=e.Point,e.Box2D=e.Box,e.mwDelta=function(t){return e.mousewheelDelta(t.originalEvent)}})?n.apply(e,s):n)||(t.exports=r)},890:function(t,e){t.exports=i(9811)}})},4965:(t,e,i)=>{t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}return i.m=t,i.c=e,i.p="",i(0)}({0:function(t,e,i){t.exports=i(903)},3:function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},882:function(t,e){t.exports=i(8678)},903:function(t,e,i){var n,s,r;i(3),s=[i(904),i(882)],void 0===(r="function"==typeof(n=function(){!function(t,e){var i=window.kendo,n=i.dataviz.diagram,s=i.Class,r=i.deepExtend,h=i.dataviz,o=n.Utils,a=h.Point2D,u=i.isFunction,d=o.contains,f=t.map;r(a.fn,{plus:function(t){return new a(this.x+t.x,this.y+t.y)},minus:function(t){return new a(this.x-t.x,this.y-t.y)},offset:function(t){return new a(this.x-t,this.y-t)},times:function(t){return new a(this.x*t,this.y*t)},normalize:function(){return 0===this.length()?new a:this.times(1/this.length())},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},toString:function(){return"("+this.x+","+this.y+")"},lengthSquared:function(){return this.x*this.x+this.y*this.y},middleOf:function(t,e){return new a(e.x-t.x,e.y-t.y).times(.5).plus(t)},toPolar:function(t){var e=1;t&&(e=180/Math.PI);var i=Math.atan2(Math.abs(this.y),Math.abs(this.x)),n=Math.PI/2,s=this.length();if(0===this.x){if(0===this.y)return new y(0,0);if(this.y>0)return new y(s,e*n);if(this.y<0)return new y(s,3*e*n)}else if(this.x>0){if(0===this.y)return new y(s,0);if(this.y>0)return new y(s,e*i);if(this.y<0)return new y(s,e*(4*n-i))}else{if(0===this.y)return new y(s,2*n);if(this.y>0)return new y(s,e*(2*n-i));if(this.y<0)return new y(s,e*(2*n+i))}},isOnLine:function(t,e){if(t.x>e.x){var i=e;e=t,t=i}var n,s,r=new l(t.x,t.y).inflate(3,3),h=new l(e.x,e.y).inflate(3,3);return!!r.union(h).contains(this)&&(t.x===e.x||t.y===e.y||(t.y<e.y?(n=r.x+(h.x-r.x)*(this.y-(r.y+r.height))/(h.y+h.height-(r.y+r.height)),s=r.x+r.width+(h.x+h.width-(r.x+r.width))*(this.y-r.y)/(h.y-r.y)):(n=r.x+(h.x-r.x)*(this.y-r.y)/(h.y-r.y),s=r.x+r.width+(h.x+h.width-(r.x+r.width))*(this.y-(r.y+r.height))/(h.y+h.height-(r.y+r.height))),this.x>n&&this.x<s))}}),r(a,{parse:function(t){var e=t.slice(1,t.length-1).split(","),i=parseInt(e[0],10),n=parseInt(e[1],10);if(!isNaN(i)&&!isNaN(n))return new a(i,n)}});var c=s.extend({init:function(t,e,i){this.point=t,this.left=e,this.right=i}}),l=s.extend({init:function(t,e,i,n){this.x=t||0,this.y=e||0,this.width=i||0,this.height=n||0},contains:function(t){return t.x>=this.x&&t.x<=this.x+this.width&&t.y>=this.y&&t.y<=this.y+this.height},inflate:function(t,e){return undefined===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t+1,this.height+=2*e+1,this},offset:function(t,e){var i=t,n=e;return t instanceof a&&(i=t.x,n=t.y),this.x+=i,this.y+=n,this},union:function(t){var e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width),s=Math.max(this.y+this.height,t.y+t.height);return new l(e,i,n-e,s-i)},center:function(){return new a(this.x+this.width/2,this.y+this.height/2)},top:function(){return new a(this.x+this.width/2,this.y)},right:function(){return new a(this.x+this.width,this.y+this.height/2)},bottom:function(){return new a(this.x+this.width/2,this.y+this.height)},left:function(){return new a(this.x,this.y+this.height/2)},topLeft:function(){return new a(this.x,this.y)},topRight:function(){return new a(this.x+this.width,this.y)},bottomLeft:function(){return new a(this.x,this.y+this.height)},bottomRight:function(){return new a(this.x+this.width,this.y+this.height)},clone:function(){return new l(this.x,this.y,this.width,this.height)},isEmpty:function(){return!this.width&&!this.height},equals:function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},rotatedBounds:function(t){var e=this.clone(),i=this.rotatedPoints(t),n=i[0],s=i[1],r=i[2],h=i[3];return e.x=Math.min(r.x,n.x,s.x,h.x),e.y=Math.min(r.y,n.y,s.y,h.y),e.width=Math.max(r.x,n.x,s.x,h.x)-e.x,e.height=Math.max(r.y,n.y,s.y,h.y)-e.y,e},rotatedPoints:function(t){var e=this,i=e.center(),n=e.bottomRight().rotate(i,360-t);return[e.topLeft().rotate(i,360-t),e.topRight().rotate(i,360-t),n,e.bottomLeft().rotate(i,360-t)]},toString:function(t){return t=t||" ",this.x+t+this.y+t+this.width+t+this.height},scale:function(t,e,i,n,s){var r=this.topLeft(),h=this.center();r.rotate(h,360-s).rotate(n,s);var o=i.minus(r),u=new a(o.x*t,o.y*e),d=o.minus(u);(r=r.plus(d)).rotate(n,360-s).rotate(h,s),this.x=r.x,this.y=r.y,this.width*=t,this.height*=e},zoom:function(t){return this.x*=t,this.y*=t,this.width*=t,this.height*=t,this},overlaps:function(t){var e=this.bottomRight(),i=t.bottomRight();return!(e.x<t.x||e.y<t.y||i.x<this.x||i.y<this.y)}}),g=s.extend({init:function(t,e){this.width=t,this.height=e}});function v(t,e,i,n,s){var r,h=(e.x-t.x)*(n.y-i.y)-(e.y-t.y)*(n.x-i.x);if(r=h,!(Math.abs(r)<1e-6)){var o=((t.y-i.y)*(n.x-i.x)-(t.x-i.x)*(n.y-i.y))/h,u=((t.y-i.y)*(e.x-t.x)-(t.x-i.x)*(e.y-t.y))/h;if(!s||!(o<0||o>1||u<0||u>1))return new a(t.x+o*(e.x-t.x),t.y+o*(e.y-t.y))}}g.prototype.Empty=new g(0,0),l.toRect=function(t){return t instanceof l||(t=new l(t.x,t.y,t.width,t.height)),t},l.empty=function(){return new l(0,0,0,0)},l.fromPoints=function(t,e){if(isNaN(t.x)||isNaN(t.y)||isNaN(e.x)||isNaN(e.y))throw"Some values are NaN.";return new l(Math.min(t.x,e.x),Math.min(t.y,e.y),Math.abs(t.x-e.x),Math.abs(t.y-e.y))};var p={lines:function(t,e,i,n){return v(t,e,i,n)},segments:function(t,e,i,n){return v(t,e,i,n,!0)},rectWithLine:function(t,e,i){return p.segments(e,i,t.topLeft(),t.topRight())||p.segments(e,i,t.topRight(),t.bottomRight())||p.segments(e,i,t.bottomLeft(),t.bottomRight())||p.segments(e,i,t.topLeft(),t.bottomLeft())},rects:function(t,e,i){var n=e.topLeft(),s=e.topRight(),r=e.bottomLeft(),h=e.bottomRight(),o=e.center();i&&(n=n.rotate(o,i),s=s.rotate(o,i),r=r.rotate(o,i),h=h.rotate(o,i));var a=t.contains(n)||t.contains(s)||t.contains(r)||t.contains(h)||p.rectWithLine(t,n,s)||p.rectWithLine(t,n,r)||p.rectWithLine(t,s,h)||p.rectWithLine(t,r,h);if(!a){if(n=t.topLeft(),s=t.topRight(),r=t.bottomLeft(),h=t.bottomRight(),i){var u=360-i;n=n.rotate(o,u),s=s.rotate(o,u),r=r.rotate(o,u),h=h.rotate(o,u)}a=e.contains(n)||e.contains(s)||e.contains(r)||e.contains(h)}return a}},x=s.extend({init:function(t){this.container=l.toRect(t)},align:function(t,e){for(var i=e.toLowerCase().split(" "),n=0;n<i.length;n++)t=this._singleAlign(t,i[n]);return t},_singleAlign:function(t,e){return u(this[e])?this[e](t):t},left:function(t){return this._align(t,this._left)},center:function(t){return this._align(t,this._center)},right:function(t){return this._align(t,this._right)},stretch:function(t){return this._align(t,this._stretch)},top:function(t){return this._align(t,this._top)},middle:function(t){return this._align(t,this._middle)},bottom:function(t){return this._align(t,this._bottom)},_left:function(t,e){e.x=t.x},_center:function(t,e){e.x=(t.width-e.width)/2||0},_right:function(t,e){e.x=t.width-e.width},_top:function(t,e){e.y=t.y},_middle:function(t,e){e.y=(t.height-e.height)/2||0},_bottom:function(t,e){e.y=t.height-e.height},_stretch:function(t,e){e.x=0,e.y=0,e.height=t.height,e.width=t.width},_align:function(t,e){return t=l.toRect(t),e(this.container,t),t}}),y=s.extend({init:function(t,e){this.r=t,this.angle=e}}),m=s.extend({init:function(t,e,i,n,s,r){this.a=t||0,this.b=e||0,this.c=i||0,this.d=n||0,this.e=s||0,this.f=r||0},plus:function(t){this.a+=t.a,this.b+=t.b,this.c+=t.c,this.d+=t.d,this.e+=t.e,this.f+=t.f},minus:function(t){this.a-=t.a,this.b-=t.b,this.c-=t.c,this.d-=t.d,this.e-=t.e,this.f-=t.f},times:function(t){return new m(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)},apply:function(t){return new a(this.a*t.x+this.c*t.y+this.e,this.b*t.x+this.d*t.y+this.f)},applyRect:function(t){return l.fromPoints(this.apply(t.topLeft()),this.apply(t.bottomRight()))},toString:function(){return"matrix("+this.a+" "+this.b+" "+this.c+" "+this.d+" "+this.e+" "+this.f+")"}});r(m,{fromSVGMatrix:function(t){var e=new m;return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.e=t.e,e.f=t.f,e},fromMatrixVector:function(t){var e=new m;return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.e=t.e,e.f=t.f,e},fromList:function(t){if(6!==t.length)throw"The given list should consist of six elements.";var e=new m;return e.a=t[0],e.b=t[1],e.c=t[2],e.d=t[3],e.e=t[4],e.f=t[5],e},translation:function(t,e){var i=new m;return i.a=1,i.b=0,i.c=0,i.d=1,i.e=t,i.f=e,i},unit:function(){return new m(1,0,0,1,0,0)},rotation:function(t,e,i){var n=new m;return n.a=Math.cos(t*Math.PI/180),n.b=Math.sin(t*Math.PI/180),n.c=-n.b,n.d=n.a,n.e=e-e*n.a+i*n.b||0,n.f=i-i*n.a-e*n.b||0,n},scaling:function(t,e){var i=new m;return i.a=t,i.b=0,i.c=0,i.d=e,i.e=0,i.f=0,i},parse:function(t){var e,i;if(t){if("matrix"===(t=t.trim()).slice(0,6).toLowerCase()){if(6===(e=(i=t.slice(7,t.length-1).trim()).split(",")).length)return m.fromList(f(e,(function(t){return parseFloat(t)})));if(6===(e=i.split(" ")).length)return m.fromList(f(e,(function(t){return parseFloat(t)})))}if("("===t.slice(0,1)&&")"===t.slice(t.length-1)&&(t=t.substr(1,t.length-1)),t.indexOf(",")>0&&6===(e=t.split(",")).length)return m.fromList(f(e,(function(t){return parseFloat(t)})));if(t.indexOf(" ")>0&&6===(e=t.split(" ")).length)return m.fromList(f(e,(function(t){return parseFloat(t)})))}return e}});var w=s.extend({init:function(t,e,i,n,s,r){this.a=t||0,this.b=e||0,this.c=i||0,this.d=n||0,this.e=s||0,this.f=r||0},fromMatrix:function(t){var e=new w;return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.e=t.e,e.f=t.f,e}});function k(t){o.isUndefined(t)&&(t=10);for(var e="",i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=t;n>0;--n)e+=i.charAt(Math.round(Math.random()*(i.length-1)));return e}var b={_distanceToLineSquared:function(t,e,i){function n(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)}if(e===i)return n(t,e);var s=i.x-e.x,r=i.y-e.y,h=(t.x-e.x)*s+(t.y-e.y)*r;return h<0?n(e,t):(h=(i.x-t.x)*s+(i.y-t.y)*r)<0?n(i,t):(h=(i.x-t.x)*r-(i.y-t.y)*s)*h/(s*s+r*r)},distanceToLine:function(t,e,i){return Math.sqrt(this._distanceToLineSquared(t,e,i))},distanceToPolyline:function(t,e){var i=Number.MAX_VALUE;if(o.isUndefined(e)||0===e.length)return Number.MAX_VALUE;for(var n=0;n<e.length-1;n++){var s=e[n],r=e[n+1],h=this._distanceToLineSquared(t,s,r);h<i&&(i=h)}return Math.sqrt(i)}},_=i.Class.extend({init:function(){this._buckets=[],this.length=0},add:function(t,e){var i=this._createGetBucket(t);return o.isDefined(e)&&(i.value=e),i},get:function(t){return this._bucketExists(t)?this._createGetBucket(t):null},set:function(t,e){this.add(t,e)},containsKey:function(t){return this._bucketExists(t)},remove:function(t){if(this._bucketExists(t)){var e=this._hash(t);return delete this._buckets[e],this.length--,t}},forEach:function(t){for(var e=this._hashes(),i=0,n=e.length;i<n;i++){var s=e[i],r=this._buckets[s];o.isUndefined(r)||t(r)}},clone:function(){for(var t=new _,e=this._hashes(),i=0,n=e.length;i<n;i++){var s=e[i],r=this._buckets[s];o.isUndefined(r)||t.add(r.key,r.value)}return t},_hashes:function(){var t=[];for(var e in this._buckets)this._buckets.hasOwnProperty(e)&&t.push(e);return t},_bucketExists:function(t){var e=this._hash(t);return o.isDefined(this._buckets[e])},_createGetBucket:function(t){var e=this._hash(t),i=this._buckets[e];return o.isUndefined(i)&&(i={key:t},this._buckets[e]=i,this.length++),i},_hash:function(t){if(o.isNumber(t))return t;if(o.isString(t))return this._hashString(t);if(o.isObject(t))return this._objectHashId(t);throw"Unsupported key type."},_hashString:function(t){var e=0;if(0===t.length)return e;for(var i=0;i<t.length;i++)e=32*e-e+t.charCodeAt(i);return e},_objectHashId:function(t){var e=t._hashId;return o.isUndefined(e)&&(e=k(),t._hashId=e),e}}),N=i.Observable.extend({init:function(e){if(i.Observable.fn.init.call(this),this._hashTable=new _,this.length=0,o.isDefined(e))if(t.isArray(e))for(var n=0;n<e.length;n++)this.add(e[n]);else e.forEach((function(t,e){this.add(t,e)}),this)},add:function(t,e){var i=this._hashTable.get(t);i||(i=this._hashTable.add(t),this.length++,this.trigger("changed")),i.value=e},set:function(t,e){this.add(t,e)},get:function(t){var e=this._hashTable.get(t);if(e)return e.value;throw new Error("Cannot find key "+t)},containsKey:function(t){return this._hashTable.containsKey(t)},remove:function(t){if(this.containsKey(t))return this.trigger("changed"),this.length--,this._hashTable.remove(t)},forEach:function(t,e){this._hashTable.forEach((function(i){t.call(e,i.key,i.value)}))},forEachValue:function(t,e){this._hashTable.forEach((function(i){t.call(e,i.value)}))},forEachKey:function(t,e){this._hashTable.forEach((function(i){t.call(e,i.key)}))},keys:function(){var t=[];return this.forEachKey((function(e){t.push(e)})),t}}),L=i.Class.extend({init:function(){this._tail=null,this._head=null,this.length=0},enqueue:function(t){var e={value:t,next:null};this._head?(this._tail.next=e,this._tail=this._tail.next):(this._head=e,this._tail=this._head),this.length++},dequeue:function(){if(this.length<1)throw new Error("The queue is empty.");var t=this._head.value;return this._head=this._head.next,this.length--,t},contains:function(t){for(var e=this._head;e;){if(e.value===t)return!0;e=e.next}return!1}}),U=i.Observable.extend({init:function(t){i.Observable.fn.init.call(this),this._hashTable=new _,this.length=0,o.isDefined(t)&&(t instanceof _?t.forEach((function(t){this.add(t)})):t instanceof N&&t.forEach((function(t,e){this.add({key:t,value:e})}),this))},contains:function(t){return this._hashTable.containsKey(t)},add:function(t){this._hashTable.get(t)||(this._hashTable.add(t,t),this.length++,this.trigger("changed"))},get:function(t){return this.contains(t)?this._hashTable.get(t).value:null},hash:function(t){return this._hashTable._hash(t)},remove:function(t){this.contains(t)&&(this._hashTable.remove(t),this.length--,this.trigger("changed"))},forEach:function(t,e){this._hashTable.forEach((function(e){t(e.value)}),e)},toArray:function(){var t=[];return this.forEach((function(e){t.push(e)})),t}}),E=i.Class.extend({init:function(t,e){if(this.links=[],this.outgoing=[],this.incoming=[],this.weight=1,o.isDefined(t)?this.id=t:this.id=k(),o.isDefined(e)){this.associatedShape=e;var i=e.bounds();this.width=i.width,this.height=i.height,this.x=i.x,this.y=i.y}else this.associatedShape=null;this.data=null,this.type="Node",this.shortForm="Node '"+this.id+"'",this.isVirtual=!1},isIsolated:function(){return o.isEmpty(this.links)},bounds:function(t){if(!o.isDefined(t))return new n.Rect(this.x,this.y,this.width,this.height);this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},isLinkedTo:function(t){var e=this;return o.any(e.links,(function(i){return i.getComplement(e)===t}))},getChildren:function(){if(0===this.outgoing.length)return[];for(var t=[],e=0,i=this.outgoing.length;e<i;e++){var n=this.outgoing[e];t.push(n.getComplement(this))}return t},getParents:function(){if(0===this.incoming.length)return[];for(var t=[],e=0,i=this.incoming.length;e<i;e++){var n=this.incoming[e];t.push(n.getComplement(this))}return t},clone:function(){var t=new E;return o.isDefined(this.weight)&&(t.weight=this.weight),o.isDefined(this.balance)&&(t.balance=this.balance),o.isDefined(this.owner)&&(t.owner=this.owner),t.associatedShape=this.associatedShape,t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},adjacentTo:function(t){return null!==this.isLinkedTo(t)},removeLink:function(t){t.source===this&&(o.remove(this.links,t),o.remove(this.outgoing,t),t.source=null),t.target===this&&(o.remove(this.links,t),o.remove(this.incoming,t),t.target=null)},hasLinkTo:function(t){return o.any(this.outgoing,(function(e){return e.target===t}))},degree:function(){return this.links.length},incidentWith:function(t){return d(this.links,t)},getLinksWith:function(t){return o.all(this.links,(function(e){return e.getComplement(this)===t}),this)},getNeighbors:function(){var t=[];return o.forEach(this.incoming,(function(e){t.push(e.getComplement(this))}),this),o.forEach(this.outgoing,(function(e){t.push(e.getComplement(this))}),this),t}}),S=i.Class.extend({init:function(t,e,i,n){if(o.isUndefined(t))throw"The source of the new link is not set.";if(o.isUndefined(e))throw"The target of the new link is not set.";var s,r;s=o.isString(t)?new E(t):t,r=o.isString(e)?new E(e):e,this.source=s,this.target=r,this.source.links.push(this),this.target.links.push(this),this.source.outgoing.push(this),this.target.incoming.push(this),o.isDefined(i)?this.id=i:this.id=k(),o.isDefined(n)?this.associatedConnection=n:this.associatedConnection=null,this.type="Link",this.shortForm="Link '"+this.source.id+"->"+this.target.id+"'"},getComplement:function(t){if(this.source!==t&&this.target!==t)throw"The given node is not incident with this link.";return this.source===t?this.target:this.source},getCommonNode:function(t){return this.source===t.source||this.source===t.target?this.source:this.target===t.source||this.target===t.target?this.target:null},isBridging:function(t,e){return this.source===t&&this.target===e||this.source===e&&this.target===t},getNodes:function(){return[this.source,this.target]},incidentWith:function(t){return this.source===t||this.target===t},adjacentTo:function(t){return d(this.source.links,t)||d(this.target.links,t)},changeSource:function(t){o.remove(this.source.links,this),o.remove(this.source.outgoing,this),t.links.push(this),t.outgoing.push(this),this.source=t},changeTarget:function(t){o.remove(this.target.links,this),o.remove(this.target.incoming,this),t.links.push(this),t.incoming.push(this),this.target=t},changesNodes:function(t,e){this.source===t?this.changeSource(e):this.target===t&&this.changeTarget(e)},reverse:function(){var t=this.source,e=this.target;return this.source=e,o.remove(t.outgoing,this),this.source.outgoing.push(this),this.target=t,o.remove(e.incoming,this),this.target.incoming.push(this),this},directTo:function(t){if(this.source!==t&&this.target!==t)throw"The given node is not incident with this link.";this.target!==t&&this.reverse()},createReverseEdge:function(){var t=this.clone();return t.reverse(),t.reversed=!0,t},clone:function(){return new S(this.source,this.target)}}),T=i.Class.extend({init:function(t){this.links=[],this.nodes=[],this._nodeMap=new N,this.diagram=null,this._root=null,o.isDefined(t)?o.isString(t)?this.id=t:(this.diagram=t,this.id=t.id):this.id=k(),this.bounds=new l,this._hasCachedRelationships=!1,this.type="Graph"},cacheRelationships:function(t){if(o.isUndefined(t)&&(t=!1),!this._hasCachedRelationships||t){for(var e=0,i=this.nodes.length;e<i;e++){var n=this.nodes[e];n.children=this.getChildren(n),n.parents=this.getParents(n)}this._hasCachedRelationships=!0}},assignLevels:function(t,e,i){if(!t)throw"Start node not specified.";o.isUndefined(e)&&(e=0),this.cacheRelationships(),o.isUndefined(i)&&(i=new N,o.forEach(this.nodes,(function(t){i.add(t,!1)}))),i.set(t,!0),t.level=e;for(var n=t.children,s=0,r=n.length;s<r;s++){var h=n[s];h&&!i.get(h)&&this.assignLevels(h,e+1,i)}},root:function(t){if(o.isUndefined(t))return this._root?this._root:o.first(this.nodes,(function(t){return 0===t.incoming.length}))||o.first(this.nodes);this._root=t},getConnectedComponents:function(){this.componentIndex=0,this.setItemIndices();for(var t=o.initArray(this.nodes.length,-1),e=0;e<this.nodes.length;e++)-1===t[e]&&(this._collectConnectedNodes(t,e),this.componentIndex++);var i,n=[];for(i=0;i<this.componentIndex;++i)n[i]=new T;for(i=0;i<t.length;++i)n[t[i]].addNodeAndOutgoings(this.nodes[i]);return n.sort((function(t,e){return e.nodes.length-t.nodes.length})),n},_collectConnectedNodes:function(t,e){t[e]=this.componentIndex;var i=this.nodes[e];o.forEach(i.links,(function(e){var n=e.getComplement(i).index;-1===t[n]&&this._collectConnectedNodes(t,n)}),this)},calcBounds:function(){if(this.isEmpty())return this.bounds=new l,this.bounds;for(var t=null,e=0,i=this.nodes.length;e<i;e++){var n=this.nodes[e];t=t?t.union(n.bounds()):n.bounds()}return this.bounds=t,this.bounds},getSpanningTree:function(t){var e,i,n=new T,s=new N;n.root=t.clone(),n.root.level=0,n.root.id=t.id,s.add(t,n.root),t.level=0;var r=[],h=[];n._addNode(n.root),r.push(t),h.push(t);for(var a=1;h.length>0;)for(var u=h.pop(),f=0;f<u.links.length;f++){var c=u.links[f].getComplement(u);if(!d(r,c)){c.level=u.level+1,a<c.level+1&&(a=c.level+1),d(h,c)||h.push(c),d(r,c)||r.push(c),s.containsKey(u)?e=s.get(u):((e=u.clone()).level=u.level,e.id=u.id,s.add(u,e)),s.containsKey(c)?i=s.get(c):((i=c.clone()).level=c.level,i.id=c.id,s.add(c,i));var l=new S(e,i);n.addLink(l)}}for(var g=[],v=0;v<a;v++)g.push([]);return o.forEach(n.nodes,(function(t){g[t.level].push(t)})),n.treeLevels=g,n.cacheRelationships(),n},takeRandomNode:function(e,i){if(o.isUndefined(e)&&(e=[]),o.isUndefined(i)&&(i=4),0===this.nodes.length)return null;if(1===this.nodes.length)return d(e,this.nodes[0])?null:this.nodes[0];var n=t.grep(this.nodes,(function(t){return!d(e,t)&&t.degree()<=i}));return o.isEmpty(n)?null:n[o.randomInteger(0,n.length)]},isEmpty:function(){return o.isEmpty(this.nodes)},isHealthy:function(){return o.all(this.links,(function(t){return d(this.nodes,t.source)&&d(this.nodes,t.target)}),this)},getParents:function(t){if(!this.hasNode(t))throw"The given node is not part of this graph.";return t.getParents()},getChildren:function(t){if(!this.hasNode(t))throw"The given node is not part of this graph.";return t.getChildren()},addLink:function(t,e,i){if(o.isUndefined(t))throw"The source of the link is not defined.";if(o.isUndefined(e)){if(o.isDefined(t.type)&&"Link"===t.type)return void this.addExistingLink(t);throw"The target of the link is not defined."}var n=this.getNode(t);o.isUndefined(n)&&(n=this.addNode(t));var s=this.getNode(e);o.isUndefined(s)&&(s=this.addNode(e));var r=new S(n,s);return o.isDefined(i)&&(r.owner=i),this.links.push(r),r},removeAllLinks:function(){for(;this.links.length>0;){var t=this.links[0];this.removeLink(t)}},addExistingLink:function(t){if(!this.hasLink(t)){if(this.links.push(t),this.hasNode(t.source.id)){var e=this.getNode(t.source.id);t.changeSource(e)}else this.addNode(t.source);if(this.hasNode(t.target.id)){var i=this.getNode(t.target.id);t.changeTarget(i)}else this.addNode(t.target)}},hasLink:function(t){if(o.isString(t))return o.any(this.links,(function(e){return e.id===t}));if("Link"===t.type)return d(this.links,t);throw"The given object is neither an identifier nor a Link."},getNode:function(t){var e=t.id||t;if(this._nodeMap.containsKey(e))return this._nodeMap.get(e)},hasNode:function(t){var e=t.id||t;return this._nodeMap.containsKey(e)},_addNode:function(t){this.nodes.push(t),this._nodeMap.add(t.id,t)},_removeNode:function(t){o.remove(this.nodes,t),this._nodeMap.remove(t.id)},removeNode:function(t){var e=t;if(o.isString(t)&&(e=this.getNode(t)),!o.isDefined(e))throw"The identifier should be a Node or the Id (string) of a node.";var i=e.links;e.links=[];for(var n=0,s=i.length;n<s;n++){var r=i[n];this.removeLink(r)}this._removeNode(e)},areConnected:function(t,e){return o.any(this.links,(function(i){return i.source==t&&i.target==e||i.source==e&&i.target==t}))},removeLink:function(t){o.remove(this.links,t),o.remove(t.source.outgoing,t),o.remove(t.source.links,t),o.remove(t.target.incoming,t),o.remove(t.target.links,t)},addNode:function(t,e,i){var n=null;if(!o.isDefined(t))throw"No Node or identifier for a new Node is given.";if(o.isString(t)){if(this.hasNode(t))return this.getNode(t);n=new E(t)}else{if(this.hasNode(t))return this.getNode(t);n=t}return o.isDefined(e)&&n.bounds(e),o.isDefined(i)&&(n.owner=i),this._addNode(n),n},addNodeAndOutgoings:function(t){this.hasNode(t)||this._addNode(t);var e=t.outgoing;t.outgoing=[],o.forEach(e,(function(t){this.addExistingLink(t)}),this)},setItemIndices:function(){var t;for(t=0;t<this.nodes.length;++t)this.nodes[t].index=t;for(t=0;t<this.links.length;++t)this.links[t].index=t},clone:function(t){var e=new T,i=o.isDefined(t)&&!0===t;i&&(e.nodeMap=new N,e.linkMap=new N);var n=new N;return o.forEach(this.nodes,(function(t){var s=t.clone();n.set(t,s),e._addNode(s),i&&e.nodeMap.set(s,t)})),o.forEach(this.links,(function(t){if(n.containsKey(t.source)&&n.containsKey(t.target)){var s=e.addLink(n.get(t.source),n.get(t.target));i&&e.linkMap.set(s,t)}})),e},linearize:function(t){return T.Utils.linearize(this,t)},depthFirstTraversal:function(t,e){if(o.isUndefined(t))throw"You need to supply a starting node.";if(o.isUndefined(e))throw"You need to supply an action.";if(!this.hasNode(t))throw"The given start-node is not part of this graph";var i=this.getNode(t);this._dftIterator(i,e,[])},_dftIterator:function(t,e,i){e(t),i.push(t);for(var n=t.getChildren(),s=0,r=n.length;s<r;s++){var h=n[s];d(i,h)||this._dftIterator(h,e,i)}},breadthFirstTraversal:function(t,e){if(o.isUndefined(t))throw"You need to supply a starting node.";if(o.isUndefined(e))throw"You need to supply an action.";if(!this.hasNode(t))throw"The given start-node is not part of this graph";var i=this.getNode(t),n=new L,s=[];for(n.enqueue(i);n.length>0;){var r=n.dequeue();e(r),s.push(r);for(var h=r.getChildren(),a=0,u=h.length;a<u;a++){var f=h[a];d(s,f)||d(n,f)||n.enqueue(f)}}},_stronglyConnectedComponents:function(t,e,i,n,s,r,h){i.add(e,h),n.add(e,h),h++,r.push(e);for(var o,a=e.getChildren(),u=0,f=a.length;u<f;u++)o=a[u],i.containsKey(o)?d(r,o)&&n.add(e,Math.min(n.get(e),i.get(o))):(this._stronglyConnectedComponents(t,o,i,n,s,r,h),n.add(e,Math.min(n.get(e),n.get(o))));if(n.get(e)===i.get(e)){var c=[];do{o=r.pop(),c.push(o)}while(o!==e);(!t||c.length>1)&&s.push(c)}},findCycles:function(t){o.isUndefined(t)&&(t=!0);for(var e=new N,i=new N,n=[],s=[],r=0,h=this.nodes.length;r<h;r++){var a=this.nodes[r];e.containsKey(a)||this._stronglyConnectedComponents(t,a,e,i,n,s,0)}return n},isAcyclic:function(){return o.isEmpty(this.findCycles())},isSubGraph:function(t){var e=t.linearize(),i=this.linearize();return o.all(e,(function(t){return d(i,t)}))},makeAcyclic:function(){if(this.isEmpty()||this.nodes.length<=1||this.links.length<=1)return[];if(2==this.nodes.length){var t=[];if(this.links.length>1)for(var e=this.links[0].source,i=0,n=this.links.length;i<n;i++){var s=this.links[i];if(s.source!=e){var r=s.reverse();t.push(r)}}return t}var h=this.clone(!0),a=this.nodes.length,u=new N,d=function(t){return 0===t.outgoing.length?2-a:0===t.incoming.length?a-2:t.outgoing.length-t.incoming.length},f=function(t,e){var i=d(t);e.containsKey(i)||e.set(i,[]),e.get(i).push(t)};o.forEach(h.nodes,(function(t){f(t,u)}));for(var c=[],l=[];h.nodes.length>0;){var g,v,p;if(u.containsKey(2-a))for(var x=u.get(2-a);x.length>0;){v=x.pop();for(var y=0;y<v.links.length;y++){var m=v.links[y];g=m.getComplement(v),p=d(g),o.remove(u.get(p),g),g.removeLink(m),f(g,u)}h._removeNode(v),l.unshift(v)}if(u.containsKey(a-2))for(var w=u.get(a-2);w.length>0;){g=w.pop();for(var k=0;k<g.links.length;k++){var b=g.links[k];v=b.getComplement(g),p=d(v),o.remove(u.get(p),v),v.removeLink(b),f(v,u)}c.push(g),h._removeNode(g)}if(h.nodes.length>0)for(var _=a-3;_>2-a;_--)if(u.containsKey(_)&&u.get(_).length>0){for(var L=u.get(_).pop(),U=0;U<L.links.length;U++){var E=L.links[U],S=E.getComplement(L);p=d(S),o.remove(u.get(p),S),S.removeLink(E),f(S,u)}c.push(L),h._removeNode(L);break}}c=c.concat(l);for(var T=new N,M=0;M<this.nodes.length;M++)T.set(h.nodeMap.get(c[M]),M);var C=[];return o.forEach(this.links,(function(t){T.get(t.source)>T.get(t.target)&&(t.reverse(),C.push(t))})),C}});T.Predefined={EightGraph:function(){return T.Utils.parse(["1->2","2->3","3->4","4->1","3->5","5->6","6->7","7->3"])},Mindmap:function(){return T.Utils.parse(["0->1","0->2","0->3","0->4","0->5","1->6","1->7","7->8","2->9","9->10","9->11","3->12","12->13","13->14","4->15","4->16","15->17","15->18","18->19","18->20","14->21","14->22","5->23","23->24","23->25","6->26"])},ThreeGraph:function(){return T.Utils.parse(["1->2","2->3","3->1"])},BinaryTree:function(t){return o.isUndefined(t)&&(t=5),T.Utils.createBalancedTree(t,2)},Linear:function(t){return o.isUndefined(t)&&(t=10),T.Utils.createBalancedTree(t,1)},Tree:function(t,e){return T.Utils.createBalancedTree(t,e)},Forest:function(t,e,i){return T.Utils.createBalancedForest(t,e,i)},Workflow:function(){return T.Utils.parse(["0->1","1->2","2->3","1->4","4->3","3->5","5->6","6->3","6->7","5->4"])},Grid:function(t,e){var i=new n.Graph;if(t<=0&&e<=0)return i;for(var s=0;s<t+1;s++)for(var r=null,h=0;h<e+1;h++){var o=new E(s.toString()+"."+h.toString());if(i.addNode(o),r&&i.addLink(r,o),s>0){var a=i.getNode((s-1).toString()+"."+h.toString());i.addLink(a,o)}r=o}return i}},T.Utils={parse:function(t){for(var e,s=new n.Graph,r=t.slice(),h=0,a=r.length;h<a;h++){var u=r[h];if(o.isString(u)){if(u.indexOf("->")<0)throw"The link should be specified as 'a->b'.";var d=u.split("->");if(2!=d.length)throw"The link should be specified as 'a->b'.";e=new S(d[0],d[1]),s.addLink(e)}if(o.isObject(u)){if(!e)throw"Specification found before Link definition.";i.deepExtend(e,u)}}return s},linearize:function(t,e){if(o.isUndefined(t))throw"Expected an instance of a Graph object in slot one.";o.isUndefined(e)&&(e=!1);for(var i=[],n=0,s=t.links.length;n<s;n++){var r=t.links[n];i.push(r.source.id+"->"+r.target.id),e&&i.push({id:r.id})}return i},_addShape:function(t,e,s,r){return o.isUndefined(e)&&(e=new n.Point(0,0)),o.isUndefined(s)&&(s=k()),r=i.deepExtend({width:20,height:20,id:s,radius:10,fill:"#778899",data:"circle",undoable:!1,x:e.x,y:e.y},r),t.addShape(r)},_addConnection:function(t,e,i,n){return t.connect(e,i,n)},createDiagramFromGraph:function(t,e,n,s){if(o.isUndefined(t))throw"The diagram surface is undefined.";if(o.isUndefined(e))throw"No graph specification defined.";o.isUndefined(n)&&(n=!0),o.isUndefined(s)&&(s=!1);for(var r,h,u=t.element.clientWidth||200,d=t.element.clientHeight||200,f=[],c=0,g=e.nodes.length;c<g;c++){var v=(r=e.nodes[c]).position;o.isUndefined(v)&&(v=o.isDefined(r.x)&&o.isDefined(r.y)?new a(r.x,r.y):new a(o.randomInteger(10,u-20),o.randomInteger(10,d-20)));var p={};"0"===r.id||s&&i.deepExtend(p,{width:150*Math.random()+20,height:80*Math.random()+50,data:"rectangle",fill:{color:"#778899"}});var x=(h=this._addShape(t,v,r.id,p)).bounds();o.isDefined(x)&&(r.x=x.x,r.y=x.y,r.width=x.width,r.height=x.height),f[r.id]=h}for(var y=0;y<e.links.length;y++){var m=e.links[y],w=f[m.source.id];if(!o.isUndefined(w)){var k=f[m.target.id];o.isUndefined(k)||this._addConnection(t,w,k,{id:m.id})}}if(n){new t.SpringLayout(t).layoutGraph(e,{limitToView:!1});for(var b=0;b<e.nodes.length;b++)(h=f[(r=e.nodes[b]).id]).bounds(new l(r.x,r.y,r.width,r.height))}},createBalancedTree:function(t,e){o.isUndefined(t)&&(t=3),o.isUndefined(e)&&(e=3);var i,s=new n.Graph,r=-1,h=[];if(t<=0||e<=0)return s;var a=new E((++r).toString());s.addNode(a),s.root=a,h.push(a);for(var u=0;u<t;u++){i=[];for(var d=0;d<h.length;d++)for(var f=h[d],c=0;c<e;c++){var l=new E((++r).toString());s.addLink(f,l),i.push(l)}h=i}return s},createBalancedForest:function(t,e,i){o.isUndefined(t)&&(t=3),o.isUndefined(e)&&(e=3),o.isUndefined(i)&&(i=5);var s,r=new n.Graph,h=-1,a=[];if(t<=0||e<=0||i<=0)return r;for(var u=0;u<i;u++){var d=new E((++h).toString());r.addNode(d),a=[d];for(var f=0;f<t;f++){s=[];for(var c=0;c<a.length;c++)for(var l=a[c],g=0;g<e;g++){var v=new E((++h).toString());r.addLink(l,v),s.push(v)}a=s}}return r},createRandomConnectedGraph:function(t,e,i){o.isUndefined(t)&&(t=40),o.isUndefined(e)&&(e=4),o.isUndefined(i)&&(i=!1);var s=new n.Graph,r=-1;if(t<=0)return s;var h=new E((++r).toString());if(s.addNode(h),1===t)return s;if(t>1){for(var a=1;a<t;a++){var u=s.takeRandomNode([],e);if(!u)break;var d=s.addNode(a.toString());s.addLink(u,d)}if(!i&&t>1)for(var f=o.randomInteger(1,t),c=0;c<f;c++){var l=s.takeRandomNode([],e),g=s.takeRandomNode([],e);l&&g&&!s.areConnected(l,g)&&s.addLink(l,g)}return s}},randomDiagram:function(t,e,n,s,r){var h=i.dataviz.diagram.Graph.Utils.createRandomConnectedGraph(e,n,s);T.Utils.createDiagramFromGraph(t,h,!1,r)}},i.deepExtend(n,{init:function(t){i.init(t,n.ui)},Point:a,Intersect:p,Geometry:b,Rect:l,Size:g,RectAlign:x,Matrix:m,MatrixVector:w,normalVariable:function(t,e){var i,n,s;do{s=(i=2*Math.random()-1)*i+(n=2*Math.random()-1)*n}while(!s||s>1);return t+e*i*Math.sqrt(-2*Math.log(s)/s)},randomId:k,Dictionary:N,HashTable:_,Queue:L,Set:U,Node:E,Link:S,Graph:T,PathDefiner:c})}(window.kendo.jQuery)})?n.apply(e,s):n)||(t.exports=r)},904:function(t,e){t.exports=i(9064)}})}}]);